<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动画 | Qt 6 书籍</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="一本关于 QML 的书">
    
    <link rel="preload" href="/qt6book/assets/css/0.styles.fdf3cb50.css" as="style"><link rel="preload" href="/qt6book/assets/js/app.49f675f8.js" as="script"><link rel="preload" href="/qt6book/assets/js/2.ea318f3c.js" as="script"><link rel="preload" href="/qt6book/assets/js/3.112743a2.js" as="script"><link rel="prefetch" href="/qt6book/assets/js/10.70a34b30.js"><link rel="prefetch" href="/qt6book/assets/js/100.cff7a886.js"><link rel="prefetch" href="/qt6book/assets/js/101.503e20ce.js"><link rel="prefetch" href="/qt6book/assets/js/102.395792fa.js"><link rel="prefetch" href="/qt6book/assets/js/103.071d8b78.js"><link rel="prefetch" href="/qt6book/assets/js/104.f33ee0ed.js"><link rel="prefetch" href="/qt6book/assets/js/105.bb2168fe.js"><link rel="prefetch" href="/qt6book/assets/js/106.0e951818.js"><link rel="prefetch" href="/qt6book/assets/js/107.a51bd278.js"><link rel="prefetch" href="/qt6book/assets/js/108.eefe809c.js"><link rel="prefetch" href="/qt6book/assets/js/109.744ac99b.js"><link rel="prefetch" href="/qt6book/assets/js/11.82909cde.js"><link rel="prefetch" href="/qt6book/assets/js/110.11ad155f.js"><link rel="prefetch" href="/qt6book/assets/js/111.56537df6.js"><link rel="prefetch" href="/qt6book/assets/js/112.628464f9.js"><link rel="prefetch" href="/qt6book/assets/js/113.893d1439.js"><link rel="prefetch" href="/qt6book/assets/js/114.c00f3590.js"><link rel="prefetch" href="/qt6book/assets/js/115.319d8826.js"><link rel="prefetch" href="/qt6book/assets/js/116.a36dfadb.js"><link rel="prefetch" href="/qt6book/assets/js/117.24dc552e.js"><link rel="prefetch" href="/qt6book/assets/js/118.8bc8de4e.js"><link rel="prefetch" href="/qt6book/assets/js/119.bb5fbbd6.js"><link rel="prefetch" href="/qt6book/assets/js/12.7c20b914.js"><link rel="prefetch" href="/qt6book/assets/js/120.63c90b9f.js"><link rel="prefetch" href="/qt6book/assets/js/121.64979c23.js"><link rel="prefetch" href="/qt6book/assets/js/122.410ce3c2.js"><link rel="prefetch" href="/qt6book/assets/js/123.3ceaa95e.js"><link rel="prefetch" href="/qt6book/assets/js/124.78e05194.js"><link rel="prefetch" href="/qt6book/assets/js/125.6d9b2679.js"><link rel="prefetch" href="/qt6book/assets/js/126.77bf1e01.js"><link rel="prefetch" href="/qt6book/assets/js/127.d3b82f75.js"><link rel="prefetch" href="/qt6book/assets/js/128.9d705e68.js"><link rel="prefetch" href="/qt6book/assets/js/129.37f588a9.js"><link rel="prefetch" href="/qt6book/assets/js/13.44fdf993.js"><link rel="prefetch" href="/qt6book/assets/js/130.93765866.js"><link rel="prefetch" href="/qt6book/assets/js/131.12d0d18e.js"><link rel="prefetch" href="/qt6book/assets/js/132.f488195c.js"><link rel="prefetch" href="/qt6book/assets/js/133.6ef1565d.js"><link rel="prefetch" href="/qt6book/assets/js/134.f3e8c361.js"><link rel="prefetch" href="/qt6book/assets/js/135.b397c9b2.js"><link rel="prefetch" href="/qt6book/assets/js/136.7da1e551.js"><link rel="prefetch" href="/qt6book/assets/js/137.357076e2.js"><link rel="prefetch" href="/qt6book/assets/js/138.42b20678.js"><link rel="prefetch" href="/qt6book/assets/js/139.21e63093.js"><link rel="prefetch" href="/qt6book/assets/js/14.b10bffa3.js"><link rel="prefetch" href="/qt6book/assets/js/140.dfcc4732.js"><link rel="prefetch" href="/qt6book/assets/js/141.6317fc32.js"><link rel="prefetch" href="/qt6book/assets/js/142.288153ef.js"><link rel="prefetch" href="/qt6book/assets/js/143.4eff9ad0.js"><link rel="prefetch" href="/qt6book/assets/js/144.39149a0f.js"><link rel="prefetch" href="/qt6book/assets/js/145.ce392d81.js"><link rel="prefetch" href="/qt6book/assets/js/15.f918e179.js"><link rel="prefetch" href="/qt6book/assets/js/16.5d3c40fb.js"><link rel="prefetch" href="/qt6book/assets/js/17.2614a8fe.js"><link rel="prefetch" href="/qt6book/assets/js/18.b8e87e84.js"><link rel="prefetch" href="/qt6book/assets/js/19.cb8358b7.js"><link rel="prefetch" href="/qt6book/assets/js/20.a509c2f7.js"><link rel="prefetch" href="/qt6book/assets/js/21.fac41553.js"><link rel="prefetch" href="/qt6book/assets/js/22.b8bb6616.js"><link rel="prefetch" href="/qt6book/assets/js/23.ec36efe8.js"><link rel="prefetch" href="/qt6book/assets/js/24.a38239b6.js"><link rel="prefetch" href="/qt6book/assets/js/25.6ec5c6a5.js"><link rel="prefetch" href="/qt6book/assets/js/26.3f43459b.js"><link rel="prefetch" href="/qt6book/assets/js/27.b4de3c2a.js"><link rel="prefetch" href="/qt6book/assets/js/28.3d1a74fb.js"><link rel="prefetch" href="/qt6book/assets/js/29.0e1f197c.js"><link rel="prefetch" href="/qt6book/assets/js/30.69e1ba2b.js"><link rel="prefetch" href="/qt6book/assets/js/31.180e6ae8.js"><link rel="prefetch" href="/qt6book/assets/js/32.95f52d7a.js"><link rel="prefetch" href="/qt6book/assets/js/33.19531560.js"><link rel="prefetch" href="/qt6book/assets/js/34.1b2d9f18.js"><link rel="prefetch" href="/qt6book/assets/js/35.10c030c6.js"><link rel="prefetch" href="/qt6book/assets/js/36.51dde79c.js"><link rel="prefetch" href="/qt6book/assets/js/37.f955e155.js"><link rel="prefetch" href="/qt6book/assets/js/38.c5b68607.js"><link rel="prefetch" href="/qt6book/assets/js/39.28538ce3.js"><link rel="prefetch" href="/qt6book/assets/js/4.6ee77bf2.js"><link rel="prefetch" href="/qt6book/assets/js/40.c0ad21c1.js"><link rel="prefetch" href="/qt6book/assets/js/41.105e2872.js"><link rel="prefetch" href="/qt6book/assets/js/42.55911116.js"><link rel="prefetch" href="/qt6book/assets/js/43.8e441a9e.js"><link rel="prefetch" href="/qt6book/assets/js/44.35b2ff29.js"><link rel="prefetch" href="/qt6book/assets/js/45.7d1d010c.js"><link rel="prefetch" href="/qt6book/assets/js/46.7585557d.js"><link rel="prefetch" href="/qt6book/assets/js/47.450265aa.js"><link rel="prefetch" href="/qt6book/assets/js/48.f236e58d.js"><link rel="prefetch" href="/qt6book/assets/js/49.85eb3fbd.js"><link rel="prefetch" href="/qt6book/assets/js/5.c6d72f08.js"><link rel="prefetch" href="/qt6book/assets/js/50.0196025d.js"><link rel="prefetch" href="/qt6book/assets/js/51.1a5823e9.js"><link rel="prefetch" href="/qt6book/assets/js/52.83e09db4.js"><link rel="prefetch" href="/qt6book/assets/js/53.dedb04ac.js"><link rel="prefetch" href="/qt6book/assets/js/54.80561be2.js"><link rel="prefetch" href="/qt6book/assets/js/55.d2a21221.js"><link rel="prefetch" href="/qt6book/assets/js/56.564ff842.js"><link rel="prefetch" href="/qt6book/assets/js/57.757d907a.js"><link rel="prefetch" href="/qt6book/assets/js/58.50225fe8.js"><link rel="prefetch" href="/qt6book/assets/js/59.9e233383.js"><link rel="prefetch" href="/qt6book/assets/js/6.381344fb.js"><link rel="prefetch" href="/qt6book/assets/js/60.04d29815.js"><link rel="prefetch" href="/qt6book/assets/js/61.0c74ecb4.js"><link rel="prefetch" href="/qt6book/assets/js/62.d5c85dcf.js"><link rel="prefetch" href="/qt6book/assets/js/63.8775d8a6.js"><link rel="prefetch" href="/qt6book/assets/js/64.d6548a41.js"><link rel="prefetch" href="/qt6book/assets/js/65.9ab78926.js"><link rel="prefetch" href="/qt6book/assets/js/66.cd7855b2.js"><link rel="prefetch" href="/qt6book/assets/js/67.1ff5900b.js"><link rel="prefetch" href="/qt6book/assets/js/68.74f0245e.js"><link rel="prefetch" href="/qt6book/assets/js/69.1b2e800d.js"><link rel="prefetch" href="/qt6book/assets/js/7.53dffc97.js"><link rel="prefetch" href="/qt6book/assets/js/70.19fafa64.js"><link rel="prefetch" href="/qt6book/assets/js/71.aca6355b.js"><link rel="prefetch" href="/qt6book/assets/js/72.1a3808cd.js"><link rel="prefetch" href="/qt6book/assets/js/73.de73d4a5.js"><link rel="prefetch" href="/qt6book/assets/js/74.4f6fdc1a.js"><link rel="prefetch" href="/qt6book/assets/js/75.fa040cbb.js"><link rel="prefetch" href="/qt6book/assets/js/76.c943dcfb.js"><link rel="prefetch" href="/qt6book/assets/js/77.5e5240a0.js"><link rel="prefetch" href="/qt6book/assets/js/78.4352cfdb.js"><link rel="prefetch" href="/qt6book/assets/js/79.64132667.js"><link rel="prefetch" href="/qt6book/assets/js/8.a29b933c.js"><link rel="prefetch" href="/qt6book/assets/js/80.99cf0f52.js"><link rel="prefetch" href="/qt6book/assets/js/81.8dc9b0d5.js"><link rel="prefetch" href="/qt6book/assets/js/82.e60a2b4d.js"><link rel="prefetch" href="/qt6book/assets/js/83.ff48a41f.js"><link rel="prefetch" href="/qt6book/assets/js/84.72db517a.js"><link rel="prefetch" href="/qt6book/assets/js/85.876eef38.js"><link rel="prefetch" href="/qt6book/assets/js/86.5ed4ad32.js"><link rel="prefetch" href="/qt6book/assets/js/87.8df5143a.js"><link rel="prefetch" href="/qt6book/assets/js/88.94bf0081.js"><link rel="prefetch" href="/qt6book/assets/js/89.0272804b.js"><link rel="prefetch" href="/qt6book/assets/js/9.7436ab3c.js"><link rel="prefetch" href="/qt6book/assets/js/90.871c44c7.js"><link rel="prefetch" href="/qt6book/assets/js/91.c38e4ee7.js"><link rel="prefetch" href="/qt6book/assets/js/92.d79de636.js"><link rel="prefetch" href="/qt6book/assets/js/93.81493d9a.js"><link rel="prefetch" href="/qt6book/assets/js/94.4eef95b9.js"><link rel="prefetch" href="/qt6book/assets/js/95.3804e65e.js"><link rel="prefetch" href="/qt6book/assets/js/96.360acf76.js"><link rel="prefetch" href="/qt6book/assets/js/97.6a742d1c.js"><link rel="prefetch" href="/qt6book/assets/js/98.7e121e3a.js"><link rel="prefetch" href="/qt6book/assets/js/99.86b18043.js">
    <link rel="stylesheet" href="/qt6book/assets/css/0.styles.fdf3cb50.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/qt6book/" class="home-link router-link-active"><!----> <span class="site-name">Qt 6 书籍</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/dogifyc/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/dogifyc/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/qt6book/preface/preface" class="sidebar-heading clickable"><span>前言</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/preface/preface.html" class="sidebar-link">欢迎！</a></li><li><a href="/qt6book/preface/acknowledgements.html" class="sidebar-link">鸣谢</a></li><li><a href="/qt6book/preface/authors.html" class="sidebar-link">作者</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch01-meetqt/meet-qt" class="sidebar-heading clickable"><span>遇见 Qt</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch01-meetqt/meet-qt.html" class="sidebar-link">Qt 和 Qt Quick</a></li><li><a href="/qt6book/ch01-meetqt/blocks.html" class="sidebar-link">Qt 构成</a></li><li><a href="/qt6book/ch01-meetqt/intro.html" class="sidebar-link">Qt 6 简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch02-start/quick-start" class="sidebar-heading clickable"><span>起步</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch02-start/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/qt6book/ch02-start/install.html" class="sidebar-link">安装 Qt 6 SDK</a></li><li><a href="/qt6book/ch02-start/hello-world.html" class="sidebar-link">Hello World</a></li><li><a href="/qt6book/ch02-start/app-types.html" class="sidebar-link">应用类型</a></li><li><a href="/qt6book/ch02-start/summary.html" class="sidebar-link">摘要</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch03-qtcreator/qt-creator" class="sidebar-heading clickable"><span>Qt Creator IDE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch03-qtcreator/qt-creator.html" class="sidebar-link">Qt Creator IDE</a></li><li><a href="/qt6book/ch03-qtcreator/user-interface.html" class="sidebar-link">用户界面</a></li><li><a href="/qt6book/ch03-qtcreator/kit-registry.html" class="sidebar-link">注册 Qt 套件</a></li><li><a href="/qt6book/ch03-qtcreator/projects.html" class="sidebar-link">项目管理</a></li><li><a href="/qt6book/ch03-qtcreator/editor.html" class="sidebar-link">使用编辑器</a></li><li><a href="/qt6book/ch03-qtcreator/locator.html" class="sidebar-link">定位器</a></li><li><a href="/qt6book/ch03-qtcreator/debugging.html" class="sidebar-link">调试</a></li><li><a href="/qt6book/ch03-qtcreator/shortcuts.html" class="sidebar-link">快捷键</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch04-qmlstart/quick-start" class="sidebar-heading clickable"><span>快速开始</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch04-qmlstart/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/qt6book/ch04-qmlstart/qml-syntax.html" class="sidebar-link">QML 语法</a></li><li><a href="/qt6book/ch04-qmlstart/core-elements.html" class="sidebar-link">核心元素</a></li><li><a href="/qt6book/ch04-qmlstart/components.html" class="sidebar-link">组件</a></li><li><a href="/qt6book/ch04-qmlstart/transformations.html" class="sidebar-link">简单变化</a></li><li><a href="/qt6book/ch04-qmlstart/positioning.html" class="sidebar-link">定位元素</a></li><li><a href="/qt6book/ch04-qmlstart/layout.html" class="sidebar-link">布局元素</a></li><li><a href="/qt6book/ch04-qmlstart/input.html" class="sidebar-link">输入元素</a></li><li><a href="/qt6book/ch04-qmlstart/advanced.html" class="sidebar-link">进阶技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch05-fluid/fluid-elements" class="sidebar-heading clickable open"><span>流式元素</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch05-fluid/fluid-elements.html" class="sidebar-link">流式元素</a></li><li><a href="/qt6book/ch05-fluid/animations.html" aria-current="page" class="active sidebar-link">动画</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/qt6book/ch05-fluid/animations.html#动画元素" class="sidebar-link">动画元素</a></li><li class="sidebar-sub-header"><a href="/qt6book/ch05-fluid/animations.html#应用动画" class="sidebar-link">应用动画</a></li><li class="sidebar-sub-header"><a href="/qt6book/ch05-fluid/animations.html#点击图片-v2" class="sidebar-link">点击图片 V2</a></li><li class="sidebar-sub-header"><a href="/qt6book/ch05-fluid/animations.html#缓动曲线" class="sidebar-link">缓动曲线</a></li><li class="sidebar-sub-header"><a href="/qt6book/ch05-fluid/animations.html#组合动画" class="sidebar-link">组合动画</a></li></ul></li><li><a href="/qt6book/ch05-fluid/states-transitions.html" class="sidebar-link">状态和过渡</a></li><li><a href="/qt6book/ch05-fluid/advanced.html" class="sidebar-link">进阶技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch06-controls/controls2" class="sidebar-heading clickable"><span>QtQuick Controls</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch06-controls/controls2.html" class="sidebar-link">UI Controls</a></li><li><a href="/qt6book/ch06-controls/introduction.html" class="sidebar-link">Controls 简介</a></li><li><a href="/qt6book/ch06-controls/image-viewer.html" class="sidebar-link">Image 查看器</a></li><li><a href="/qt6book/ch06-controls/common-patterns.html" class="sidebar-link">Common Patterns</a></li><li><a href="/qt6book/ch06-controls/imagine-style.html" class="sidebar-link">The Imagine Style</a></li><li><a href="/qt6book/ch06-controls/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch07-modelview/model-view" class="sidebar-heading clickable"><span>Model View</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch07-modelview/model-view.html" class="sidebar-link">Model-View-Delegate</a></li><li><a href="/qt6book/ch07-modelview/concept.html" class="sidebar-link">Concept</a></li><li><a href="/qt6book/ch07-modelview/basic-models.html" class="sidebar-link">Basic Models</a></li><li><a href="/qt6book/ch07-modelview/dynamic-views.html" class="sidebar-link">Dynamic Views</a></li><li><a href="/qt6book/ch07-modelview/delegate.html" class="sidebar-link">Delegate</a></li><li><a href="/qt6book/ch07-modelview/advanced.html" class="sidebar-link">Advanced Techniques</a></li><li><a href="/qt6book/ch07-modelview/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch08-canvas/canvas-element" class="sidebar-heading clickable"><span>Canvas</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch08-canvas/canvas-element.html" class="sidebar-link">Canvas Element</a></li><li><a href="/qt6book/ch08-canvas/convenience-api.html" class="sidebar-link">Convenience API</a></li><li><a href="/qt6book/ch08-canvas/gradients.html" class="sidebar-link">Gradients</a></li><li><a href="/qt6book/ch08-canvas/shadows.html" class="sidebar-link">Shadows</a></li><li><a href="/qt6book/ch08-canvas/images.html" class="sidebar-link">Images</a></li><li><a href="/qt6book/ch08-canvas/transformation.html" class="sidebar-link">Transformation</a></li><li><a href="/qt6book/ch08-canvas/composition-modes.html" class="sidebar-link">Composition Modes</a></li><li><a href="/qt6book/ch08-canvas/pixel-buffer.html" class="sidebar-link">Pixel Buffers</a></li><li><a href="/qt6book/ch08-canvas/canvas-paint.html" class="sidebar-link">Canvas Paint</a></li><li><a href="/qt6book/ch08-canvas/port-from-html.html" class="sidebar-link">Porting from HTML5 Canvas</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch09-shapes/shapes" class="sidebar-heading clickable"><span>Shapes</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch09-shapes/shapes.html" class="sidebar-link">Shapes</a></li><li><a href="/qt6book/ch09-shapes/basics.html" class="sidebar-link">A Basic Shape</a></li><li><a href="/qt6book/ch09-shapes/paths.html" class="sidebar-link">Building Paths</a></li><li><a href="/qt6book/ch09-shapes/gradients.html" class="sidebar-link">Filling Shapes</a></li><li><a href="/qt6book/ch09-shapes/animations.html" class="sidebar-link">Animating Shapes</a></li><li><a href="/qt6book/ch09-shapes/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch10-effects/effects" class="sidebar-heading clickable"><span>Effects</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch10-effects/effects.html" class="sidebar-link">Effects in QML</a></li><li><a href="/qt6book/ch10-effects/particles.html" class="sidebar-link">Particle Concept</a></li><li><a href="/qt6book/ch10-effects/simple-simulation.html" class="sidebar-link">Simple Simulation</a></li><li><a href="/qt6book/ch10-effects/particle-parameters.html" class="sidebar-link">Particle Parameters</a></li><li><a href="/qt6book/ch10-effects/directed-particles.html" class="sidebar-link">Directed Particles</a></li><li><a href="/qt6book/ch10-effects/affecting-particles.html" class="sidebar-link">Affecting Particles</a></li><li><a href="/qt6book/ch10-effects/particle-groups.html" class="sidebar-link">Particle Groups</a></li><li><a href="/qt6book/ch10-effects/particle-painters.html" class="sidebar-link">Particle Painters</a></li><li><a href="/qt6book/ch10-effects/opengl-shaders.html" class="sidebar-link">Graphics Shaders</a></li><li><a href="/qt6book/ch10-effects/shader-elements.html" class="sidebar-link">Shader Elements</a></li><li><a href="/qt6book/ch10-effects/fragment-shaders.html" class="sidebar-link">Fragment Shaders</a></li><li><a href="/qt6book/ch10-effects/wave-effect.html" class="sidebar-link">Wave Effect</a></li><li><a href="/qt6book/ch10-effects/vertex-shader.html" class="sidebar-link">Vertex Shader</a></li><li><a href="/qt6book/ch10-effects/curtain-effect.html" class="sidebar-link">Curtain Effect</a></li><li><a href="/qt6book/ch10-effects/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch11-multimedia/multimedia" class="sidebar-heading clickable"><span>Multimedia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch11-multimedia/multimedia.html" class="sidebar-link">Multimedia</a></li><li><a href="/qt6book/ch11-multimedia/playing-media.html" class="sidebar-link">Playing Media</a></li><li><a href="/qt6book/ch11-multimedia/sound-effects.html" class="sidebar-link">Sound Effects</a></li><li><a href="/qt6book/ch11-multimedia/video-streams.html" class="sidebar-link">Video Streams</a></li><li><a href="/qt6book/ch11-multimedia/capturing-images.html" class="sidebar-link">Capturing Images</a></li><li><a href="/qt6book/ch11-multimedia/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch12-qtquick3d/intro" class="sidebar-heading clickable"><span>Qt Quick 3D</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch12-qtquick3d/intro.html" class="sidebar-link">Qt Quick 3D</a></li><li><a href="/qt6book/ch12-qtquick3d/basics.html" class="sidebar-link">The Basics</a></li><li><a href="/qt6book/ch12-qtquick3d/assets.html" class="sidebar-link">Working with Assets</a></li><li><a href="/qt6book/ch12-qtquick3d/materials-and-light.html" class="sidebar-link">Materials and Light</a></li><li><a href="/qt6book/ch12-qtquick3d/animations.html" class="sidebar-link">Animations</a></li><li><a href="/qt6book/ch12-qtquick3d/mixing-2d-and-3d.html" class="sidebar-link">Mixing 2D and 3D Contents</a></li><li><a href="/qt6book/ch12-qtquick3d/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch13-networking/networking" class="sidebar-heading clickable"><span>Networking</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch13-networking/networking.html" class="sidebar-link">Networking</a></li><li><a href="/qt6book/ch13-networking/serve-qml.html" class="sidebar-link">Serving UI via HTTP</a></li><li><a href="/qt6book/ch13-networking/templates.html" class="sidebar-link">Templates</a></li><li><a href="/qt6book/ch13-networking/http-requests.html" class="sidebar-link">HTTP Requests</a></li><li><a href="/qt6book/ch13-networking/local-files.html" class="sidebar-link">Local files</a></li><li><a href="/qt6book/ch13-networking/rest-api.html" class="sidebar-link">REST API</a></li><li><a href="/qt6book/ch13-networking/authentication.html" class="sidebar-link">Authentication using OAuth</a></li><li><a href="/qt6book/ch13-networking/web-sockets.html" class="sidebar-link">Web Sockets</a></li><li><a href="/qt6book/ch13-networking/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch14-storage/storage" class="sidebar-heading clickable"><span>Storage</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch14-storage/storage.html" class="sidebar-link">Storage</a></li><li><a href="/qt6book/ch14-storage/settings.html" class="sidebar-link">Settings</a></li><li><a href="/qt6book/ch14-storage/local-storage.html" class="sidebar-link">Local Storage - SQL</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch15-dynamicqml/dynamic-qml" class="sidebar-heading clickable"><span>Dynamic QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch15-dynamicqml/dynamic-qml.html" class="sidebar-link">Dynamic QML</a></li><li><a href="/qt6book/ch15-dynamicqml/loading-components.html" class="sidebar-link">Loading Components Dynamically</a></li><li><a href="/qt6book/ch15-dynamicqml/dynamic-objects.html" class="sidebar-link">Creating and Destroying Objects</a></li><li><a href="/qt6book/ch15-dynamicqml/tracking-objects.html" class="sidebar-link">Tracking Dynamic Objects</a></li><li><a href="/qt6book/ch15-dynamicqml/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch16-javascript/javascript" class="sidebar-heading clickable"><span>Javascript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch16-javascript/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/qt6book/ch16-javascript/html-qml.html" class="sidebar-link">Browser/HTML vs Qt Quick/QML</a></li><li><a href="/qt6book/ch16-javascript/js-language.html" class="sidebar-link">JS Language</a></li><li><a href="/qt6book/ch16-javascript/js-objects.html" class="sidebar-link">JS Objects</a></li><li><a href="/qt6book/ch16-javascript/js-console.html" class="sidebar-link">Creating a JS Console</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch17-qtcpp/qtcpp" class="sidebar-heading clickable"><span>Qt C++</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch17-qtcpp/qtcpp.html" class="sidebar-link">Qt and C++</a></li><li><a href="/qt6book/ch17-qtcpp/boilerplate.html" class="sidebar-link">A Boilerplate Application</a></li><li><a href="/qt6book/ch17-qtcpp/qobject.html" class="sidebar-link">The QObject</a></li><li><a href="/qt6book/ch17-qtcpp/build-system.html" class="sidebar-link">Build Systems</a></li><li><a href="/qt6book/ch17-qtcpp/common-classes.html" class="sidebar-link">Common Qt Classes</a></li><li><a href="/qt6book/ch17-qtcpp/cpp-models.html" class="sidebar-link">Models in C++</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch18-extensions/extending-qml" class="sidebar-heading clickable"><span>Extending QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch18-extensions/extending-qml.html" class="sidebar-link">Extending QML with C++</a></li><li><a href="/qt6book/ch18-extensions/qml-runtime.html" class="sidebar-link">Understanding the QML Run-time</a></li><li><a href="/qt6book/ch18-extensions/plugin-content.html" class="sidebar-link">Plugin Content</a></li><li><a href="/qt6book/ch18-extensions/create-plugin.html" class="sidebar-link">Creating the plugin</a></li><li><a href="/qt6book/ch18-extensions/fileio-demo.html" class="sidebar-link">FileIO Implementation</a></li><li><a href="/qt6book/ch18-extensions/using-fileio.html" class="sidebar-link">Using FileIO</a></li><li><a href="/qt6book/ch18-extensions/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch19-python/qt-python" class="sidebar-heading clickable"><span>Qt for Python</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch19-python/qt-python.html" class="sidebar-link">Qt for Python</a></li><li><a href="/qt6book/ch19-python/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/qt6book/ch19-python/installing.html" class="sidebar-link">Installing</a></li><li><a href="/qt6book/ch19-python/build-app.html" class="sidebar-link">Building an Application</a></li><li><a href="/qt6book/ch19-python/limitations.html" class="sidebar-link">Limitations</a></li><li><a href="/qt6book/ch19-python/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch20-qtformcu/qtformcu" class="sidebar-heading clickable"><span>Qt for MCUs</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch20-qtformcu/qtformcu.html" class="sidebar-link">Qt for MCUs</a></li><li><a href="/qt6book/ch20-qtformcu/setup.html" class="sidebar-link">Setup</a></li><li><a href="/qt6book/ch20-qtformcu/helloworld.html" class="sidebar-link">Hello World - for MCUs</a></li><li><a href="/qt6book/ch20-qtformcu/cpp.html" class="sidebar-link">Integrating with C++</a></li><li><a href="/qt6book/ch20-qtformcu/models.html" class="sidebar-link">Working with Models</a></li><li><a href="/qt6book/ch20-qtformcu/summary.html" class="sidebar-link">Summary</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="动画"><a href="#动画" class="header-anchor">#</a> 动画</h1> <p>动画作用于属性变更过程。一个动画定义了属性变化时，从一个值变到另一个值的缓动曲线。这些动画曲线创建了从一个值到另一个值的平滑过渡。</p> <p>一个动画由一些动态属性，缓动曲线和时长组成。Qt Quick 中的所有动画都由同一个计时器控制，因此是同步的。这提升了动画性能和质量。</p> <div class="custom-block tip"><p class="custom-block-title">动画通过修改属性值控制属性的变化</p> <p>这是一条基本原则。QML 基于元素，属性和脚本。每个元素都提供了几十个属性，每个属性都能被动画。在本书中，你会看到这个壮观的竞技场。</p> <p>你可以看看一些动画，鉴赏它们，或者发挥你的创造力。请牢记：<em>动画控制属性变更，每个元素都有几十个属性受您控制</em>。</p> <p><strong>释放力量吧!</strong></p></div> <p><img src="/qt6book/assets/img/animation_sequence.df5676d4.png" alt=""></p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token comment">// AnimationExample.qml</span>

<span class="token keyword">import</span> QtQuick

<span class="token class-name">Image</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>
    <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/background.png&quot;</span></span>

    <span class="token property"><span class="token keyword">property</span> <span class="token property">int</span> <span class="token property">padding</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
    <span class="token property"><span class="token keyword">property</span> <span class="token property">int</span> <span class="token property">duration</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">4000</span></span>
    <span class="token property"><span class="token keyword">property</span> <span class="token property">bool</span> <span class="token property">running</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">false</span></span>

    <span class="token class-name">Image</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">box</span>
        <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>padding</span><span class="token punctuation">;</span>
        <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">(</span>root<span class="token punctuation">.</span>height<span class="token operator">-</span>height<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span></span>
        <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/box_green.png&quot;</span></span>

        <span class="token class-name">NumberAnimation</span> <span class="token keyword">on</span> x <span class="token punctuation">{</span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width <span class="token operator">-</span> box<span class="token punctuation">.</span>width <span class="token operator">-</span> root<span class="token punctuation">.</span>padding</span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
            <span class="token property">running</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>running</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">RotationAnimation</span> <span class="token keyword">on</span> rotation <span class="token punctuation">{</span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">360</span></span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
            <span class="token property">running</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>running</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">MouseArea</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>running <span class="token operator">=</span> <span class="token boolean">true</span></span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre></div><p>以上实例展示了一个针对 <code>x</code> 和 <code>rotation</code> 属性的简单动画。每个动画耗时 4000 毫秒。该动画作用于 <code>x</code>，将其横坐标渐渐移至 240 px。该动画也作用于角度属性，从当前角度转至 360 度。两个动画是并行运行的，且在点击 <code>MouseArea</code> 后开始的。</p> <p>你可以通过修改 <code>to</code> 和 <code>duration</code> 属性来处理动画，也可添加新的动画（例如，<code>opacity</code> 或 <code>scale</code>）。<strong>这些组合在一起可以使得对象慢慢消失在深空！</strong></p> <h2 id="动画元素"><a href="#动画元素" class="header-anchor">#</a> 动画元素</h2> <p>这里有好几种动画类型，每种都针对特定的用例优化。这是一份重要动画的列表：</p> <ul><li><p><code>PropertyAnimation</code> - 针对属性值的动态修改</p></li> <li><p><code>NumberAnimation</code> - 针对实数类型的动态修改</p></li> <li><p><code>ColorAnimation</code> - 针对颜色的动态修改</p></li> <li><p><code>RotationAnimation</code> - 针对旋转角度的动态修改</p></li></ul> <p>除了这些广泛使用的基础动画元素，Qt Quick 还提供了更多针对特殊用例的动画：</p> <ul><li><p><code>PauseAnimation</code> - 允许暂停动画</p></li> <li><p><code>SequentialAnimation</code> - 允许依次执行动画</p></li> <li><p><code>ParallelAnimation</code> - 允许并行运行动画</p></li> <li><p><code>AnchorAnimation</code> - 针对锚值得动态修改</p></li> <li><p><code>ParentAnimation</code> - 针对父值的动态修改</p></li> <li><p><code>SmoothedAnimation</code> - 允许属性值动态追踪一个值</p></li> <li><p><code>SpringAnimation</code> - 允许属性值像弹簧一样追踪一个值</p></li> <li><p><code>PathAnimation</code> - 元素沿一条路径动态前进</p></li> <li><p><code>Vector3dAnimation</code> - 以 QVector3d 值执行动画</p></li></ul> <p>稍后我们会学习如何创建动画序列。在制作更复杂的动画时，有时需要在动画进行时修改属性或运行脚本。Qt Quick 为此提供了动作元素，只要动画元素能用的地方，动作元素就可用：</p> <ul><li><p><code>PropertyAction</code> - 在动画中立刻修改属性</p></li> <li><p><code>ScriptAction</code> - 定义动画中运行的脚本</p></li></ul> <p>本章会用小而精的例子介绍主要的动画类型。</p> <h2 id="应用动画"><a href="#应用动画" class="header-anchor">#</a> 应用动画</h2> <p>有几种应用动画的方法：</p> <ul><li><p><strong>Animation on property（属性动画）</strong> - 元素完全加载后自动运行</p></li> <li><p><strong>Behavior on property（属性行为）</strong> - 属性值修改后自动运行</p></li> <li><p><strong>Standalone Animation（独立动画）</strong> - 显式地通过 <code>start()</code> 或 <code>running</code> 设置为 true 时运行动画（如，属性绑定）</p></li></ul> <p><em>后续我们会看看如何在 state 变化过程中使用动画。</em></p> <h2 id="点击图片-v2"><a href="#点击图片-v2" class="header-anchor">#</a> 点击图片 V2</h2> <p>为了示范如何使用动画，我们重用了前文的 ClickableImage 组件，并为其添加了一个文本元素。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token comment">// ClickableImageV2.qml</span>
<span class="token comment">// Simple image which can be clicked</span>

<span class="token keyword">import</span> QtQuick

<span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">container<span class="token punctuation">.</span>childrenRect<span class="token punctuation">.</span>width</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">container<span class="token punctuation">.</span>childrenRect<span class="token punctuation">.</span>height</span>
    <span class="token property"><span class="token keyword">property</span> <span class="token property">alias</span> <span class="token property">text</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">label<span class="token punctuation">.</span>text</span>
    <span class="token property"><span class="token keyword">property</span> <span class="token property">alias</span> <span class="token property">source</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">image<span class="token punctuation">.</span>source</span>
    signal clicked

    <span class="token class-name">Column</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">container</span>
        <span class="token class-name">Image</span> <span class="token punctuation">{</span>
            <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">image</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Text</span> <span class="token punctuation">{</span>
            <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">label</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">image<span class="token punctuation">.</span>width</span>
            <span class="token property">horizontalAlignment</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Text<span class="token punctuation">.</span>AlignHCenter</span>
            <span class="token property">wrapMode</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Text<span class="token punctuation">.</span>WordWrap</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;#ececec&quot;</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">MouseArea</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>为了组织图片下面的元素，我们使用了 Column 定位器，并基于列的 childrenRect 属性计算了宽高。我们导出了 text，图片 souce 属性和点击信号。同时我们期望文本的宽度和图片一样，支持换行。利用文本元素的 <code>wrapMode</code> 属性，我们实现了换行功能。</p> <div class="custom-block tip"><p class="custom-block-title">父级/子级 元素几何依赖</p> <p>因为翻转了几何依赖（父元素的形状依赖子元素），我们无法对 ClickableImageV2 设置 <code>width</code> 或 <code>height</code>，因为这会破坏绑定关系。</p> <p>若父元素仅作为容器，且子元素会适应父元素，则更应该倾向于使子元素的形状依赖于父元素的形状。</p></div> <h3 id="依次排列的对象"><a href="#依次排列的对象" class="header-anchor">#</a> 依次排列的对象</h3> <p><img src="/qt6book/assets/img/animationtypes_start.a980e734.png" alt=""></p> <p>这三个对象的 y 坐标是一样的(<code>y=200</code>)。都需要移动到 <code>y=40</code>，每个元素使用了不同的方法实现了此目的，每个方法有不同的副作用和特性。</p> <h3 id="第一个对象"><a href="#第一个对象" class="header-anchor">#</a> 第一个对象</h3> <p>第一个对象使用 <code>Animation on &lt;property&gt;</code> 策略。该动画立刻启用。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ClickableImageV2</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">greenBox</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">-</span>height</span>
    <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/box_green.png&quot;</span></span>
    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;animation on property&quot;</span><span class="token punctuation">)</span></span>
    <span class="token class-name">NumberAnimation</span> <span class="token keyword">on</span> y <span class="token punctuation">{</span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">4000</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>当对象被点击时，其 y 坐标会被重置为起始状态，这点对三个对象都有效。对第一个对象来说，动画运行时，点击不会重置 y 坐标。</p> <p>这在视觉上会令人不适，因为 y 坐标会在动画开始前的几分之一秒被设定为一个新值。<em>应该避免这种属性竞争</em>。</p> <h3 id="第二个对象"><a href="#第二个对象" class="header-anchor">#</a> 第二个对象</h3> <p>第二个对象使用 <code>Behavior on</code> 行为动画。该行为告诉属性值应该渐变。该行为可以设置 <code>Behavior</code> 的属性 <code>enabled: false</code> 来禁用。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ClickableImageV2</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">blueBox</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">(</span>root<span class="token punctuation">.</span>width<span class="token operator">-</span>width<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">-</span>height</span>
    <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/box_blue.png&quot;</span></span>
    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;behavior on property&quot;</span><span class="token punctuation">)</span></span>
    <span class="token class-name">Behavior</span> <span class="token keyword">on</span> y <span class="token punctuation">{</span>
        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">4000</span> </span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">y <span class="token operator">=</span> <span class="token number">40</span></span>
    <span class="token comment">// 每次点击产生随机的 y</span>
    <span class="token comment">// onClicked: y = 40 + Math.random() * (205-40)</span>
<span class="token punctuation">}</span></code></pre></div><p>该对象会在被点击时开始移动（它的 y 坐标会被设置为 40）。重复点击不会重复设置，因为它的值已被设置了。</p> <p>可以尝试为 y 坐标设置一个随机值（如 <code>40 + (Math.random() \* (205-40)</code>）。你会看到该对象总会动画至新位置，且因为动画的时长被设置为 4 秒，所以其会自动调整移动速度。</p> <h3 id="第三个对象"><a href="#第三个对象" class="header-anchor">#</a> 第三个对象</h3> <p>第三个对象使用了独立动画。该动画作用在元素上，几乎可出现在文档内的任意位置。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ClickableImageV2</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">redBox</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width<span class="token operator">-</span>width<span class="token operator">-</span><span class="token number">40</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">-</span>height</span>
    <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/box_red.png&quot;</span></span>
    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token comment">// onClicked: anim.restart()</span>

    <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">&quot;standalone animation&quot;</span><span class="token punctuation">)</span></span>

    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim</span>
        <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">redBox</span>
        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;y&quot;</span></span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">40</span></span>
        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">4000</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>点击动作会通过 <code>start()</code> 函数启动动画。每个动画都有 start()，resume() 和 restart() 函数。此种动画包含了前文所提的其它动画更多的功能。</p> <p>我们需要通过 <code>target</code> 属性定义动画的目标元素和需要动画的属性。本例中，还需要定义一个 <code>to</code> 值和 <code>from</code> 值，这将允许重启动画。</p> <p><img src="/qt6book/assets/img/animationtypes.fb2410bd.png" alt=""></p> <p>点击背景图会重置所有对象的位置。第一个对象无法被重启，除非重启程序，重启程序会重新加载该元素。</p> <div class="custom-block tip"><p class="custom-block-title">其它控制动画的方法</p> <p>另一种启动和停止动画的方法是将一个属性绑定至动画的 <code>running</code> 属性。当用户能控制该属性时显得非常有用：</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
    <span class="token comment">// [...]</span>
    <span class="token comment">// 鼠标按下时，动画运行</span>
    <span class="token property">running</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">area<span class="token punctuation">.</span>pressed</span>
<span class="token punctuation">}</span>
<span class="token class-name">MouseArea</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">area</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h2 id="缓动曲线"><a href="#缓动曲线" class="header-anchor">#</a> 缓动曲线</h2> <p>动画可以控制属性值的变化过程。缓动属性能够影响属性变更的曲线。</p> <p>目前我们定义的动画都使用了线性插值，因为动画的缓动属性的初值是 <code>Easing.Linear</code>。最好是通过图表看看，y 坐标是被动画的属性，x 坐标是时间(<em>时长</em>)。线性插值会在图标的开始位置到结束位置间画出一条直线，起点值为 <code>from</code>，终点值为 <code>to</code>。缓和类型定义了变化曲线。</p> <p>需要谨慎地为移动对象选择一个合适的缓动曲线。例如，当滑出一个页面时，初始的速度应该很慢，然后加速，最后高速滑出，类似翻书。</p> <div class="custom-block tip"><p class="custom-block-title">不应过度使用动画</p> <p>与UI设计的其他方面一样，动画应该精心设计以支持 UI 流，而不是主导它。眼睛对移动物体非常敏感，所以动画极容易吸引用户的注意。</p></div> <p>下个例子中，我们会尝试一些缓动曲线。每个缓动曲线由同一个可点击图片展示，当其被点击时，<code>square</code> 动画会被设置一个新的缓动曲线，并调用 <code>restart()</code> 以新的曲线运行动画。</p> <p><img src="/qt6book/assets/img/easingcurves.86209a9b.png" alt=""></p> <p>本例的代码有点复杂。首先创建 <code>EasingTypes</code> 的网格和一个 <code>Box</code>，后者受缓动曲线控制。每个缓动类型展示了动画将使用的曲线。当用户点击曲线时，盒子会根据该曲线移动。该动画是一个独立动画，目标为盒子，作用于 x 坐标，时长为 2 秒。</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>EasingType 的内部实时渲染曲线，感兴趣的读者可以在 <code>EasingCurves</code> 示例中查找。</p></div> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token comment">// EasingCurves.qml</span>

<span class="token keyword">import</span> QtQuick
<span class="token keyword">import</span> QtQuick.Layouts

<span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">childrenRect<span class="token punctuation">.</span>width</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">childrenRect<span class="token punctuation">.</span>height</span>

    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'#4a4a4a'</span></span>
    <span class="token property">gradient</span><span class="token punctuation">:</span> <span class="token class-name">Gradient</span> <span class="token punctuation">{</span>
        <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>color </span><span class="token punctuation">}</span>
        <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Qt<span class="token punctuation">.</span><span class="token function">lighter</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>color<span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">)</span> </span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">ColumnLayout</span> <span class="token punctuation">{</span>
        <span class="token class-name">Grid</span> <span class="token punctuation">{</span>
            <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">8</span></span>
            <span class="token property">columns</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>Linear</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">'Linear'</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InExpo</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;InExpo&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>OutExpo</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;OutExpo&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutExpo</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;InOutExpo&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutCubic</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;InOutCubic&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>SineCurve</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;SineCurve&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutCirc</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;InOutCirc&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutElastic</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;InOutElastic&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutBack</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;InOutBack&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
            <span class="token class-name">EasingType</span> <span class="token punctuation">{</span>
                <span class="token property">easingType</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>InOutBounce</span>
                <span class="token property">title</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;InOutBounce&quot;</span></span>
                <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
                    animation<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>type <span class="token operator">=</span> easingType
                    box<span class="token punctuation">.</span>toggle <span class="token operator">=</span> <span class="token operator">!</span>box<span class="token punctuation">.</span>toggle
                <span class="token punctuation">}</span></span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Item</span> <span class="token punctuation">{</span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">80</span></span>
            <span class="token property">Layout.fillWidth</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token boolean">true</span></span>
            <span class="token class-name">Box</span> <span class="token punctuation">{</span>
                <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">box</span>
                property bool toggle
                <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">toggle <span class="token operator">?</span> <span class="token number">20</span> <span class="token operator">:</span> root<span class="token punctuation">.</span>width <span class="token operator">-</span> width <span class="token operator">-</span> <span class="token number">20</span></span>
                <span class="token property">anchors.verticalCenter</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>verticalCenter</span>
                <span class="token property">gradient</span><span class="token punctuation">:</span> <span class="token class-name">Gradient</span> <span class="token punctuation">{</span>
                    <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;#2ed5fa&quot;</span> </span><span class="token punctuation">}</span>
                    <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;#2467ec&quot;</span> </span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token class-name">Behavior</span> <span class="token keyword">on</span> x <span class="token punctuation">{</span>
                    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
                        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">animation</span>
                        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">500</span></span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>请试试该实例并观察动画进行时速度的变化。某些动画令人舒适，某些动画令人难受。</p> <p>除了 <code>duration</code> 和 <code>easing.type</code> 外，你还可以微调动画。例如，常见的 <code>PropertyAnimation</code> 类型（大部分动画继承自它）还支持 <code>easing.amplitude</code>，<code>easing.overshoot</code> 和 <code>easing.period</code> 属性，这些允许你微调部分动画的行为。</p> <p>不是所有的缓动曲线都支持这些参数。请查询 <code>PropertyAnimation</code> 文档的 <a href="http://doc.qt.io/qt-6/qml-qtquick-propertyanimation.html#easing-prop" target="_blank" rel="noopener noreferrer">easing table<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，看看哪些参数对哪些曲线有影响。</p> <div class="custom-block tip"><p class="custom-block-title">选择正确的曲线</p> <p>在用户界面中为元素选择正确的动画至关重要。请牢记，动画应该支持 UI 流，而不是激怒用户。</p></div> <h2 id="组合动画"><a href="#组合动画" class="header-anchor">#</a> 组合动画</h2> <p>通常情况下，动画不止作用于一个属性。你可以期望同时运行几个动画，或依次运行动画，或在动画运行间隔执行脚本。</p> <p>为此，可以使用组合动画。见名知意，它可以组合动画。有两种组合方式：并行或串行。可以将 <code>SequentialAnimation</code> 或 <code>ParallelAnimation</code> 作为其它动画的容器。这些分组动画本身就是动画，所以可以这样用。</p> <p><img src="/qt6book/assets/img/groupedanimation.119a3d67.png" alt=""></p> <h3 id="并行动画"><a href="#并行动画" class="header-anchor">#</a> 并行动画</h3> <p>动画启动时，并行动画的直接子动画会并行运行。这使得你可以同时动画不同的属性。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token comment">// ParallelAnimationExample.qml</span>
<span class="token keyword">import</span> QtQuick

<span class="token class-name">BrightSquare</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>

    <span class="token property"><span class="token keyword">property</span> <span class="token property">int</span> <span class="token property">duration</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3000</span></span>
    <span class="token property"><span class="token keyword">property</span> <span class="token property">Item</span> <span class="token property">ufo</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>

    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">600</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">400</span></span>

    <span class="token class-name">Image</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/ufo_background.png&quot;</span></span>
    <span class="token punctuation">}</span>

    <span class="token class-name">ClickableImageV3</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>
        <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">-</span>height</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">'ufo'</span><span class="token punctuation">)</span></span>
        <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/ufo.png&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim<span class="token punctuation">.</span><span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>

    <span class="token class-name">ParallelAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim</span>
        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
            <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>
            <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;y&quot;</span></span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
            <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>
            <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;x&quot;</span></span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">160</span></span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p><img src="/qt6book/assets/img/parallelanimation_sequence.3ce24abc.png" alt=""></p> <h3 id="串行动画"><a href="#串行动画" class="header-anchor">#</a> 串行动画</h3> <p>串行动画依据从上到下的顺序依次执行每个子动画。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token comment">// SequentialAnimationExample.qml</span>
<span class="token keyword">import</span> QtQuick

<span class="token class-name">BrightSquare</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>

    <span class="token property"><span class="token keyword">property</span> <span class="token property">int</span> <span class="token property">duration</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3000</span></span>
    <span class="token property"><span class="token keyword">property</span> <span class="token property">Item</span> <span class="token property">ufo</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>

    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">600</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">400</span></span>

    <span class="token class-name">Image</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/ufo_background.png&quot;</span></span>
    <span class="token punctuation">}</span>

    <span class="token class-name">ClickableImageV3</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>
        <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">-</span>height</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token function">qsTr</span><span class="token punctuation">(</span><span class="token string">'rocket'</span><span class="token punctuation">)</span></span>
        <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/ufo.png&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim<span class="token punctuation">.</span><span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>

    <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim</span>
        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
            <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>
            <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;y&quot;</span></span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>
            <span class="token comment">// 60% of time to travel up</span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration <span class="token operator">*</span> <span class="token number">0.6</span></span>
        <span class="token punctuation">}</span>
        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
            <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ufo</span>
            <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;x&quot;</span></span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">400</span></span>
            <span class="token comment">// 40% of time to travel sideways</span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration <span class="token operator">*</span> <span class="token number">0.4</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p><img src="/qt6book/assets/img/sequentialanimation_sequence.5a5d5351.png" alt=""></p> <h3 id="嵌套动画"><a href="#嵌套动画" class="header-anchor">#</a> 嵌套动画</h3> <p>组合动画也可嵌套。比如，串行动画可以有两个并行动画作为子动画。我们可以用一个足球的例子来可视化。想法是把一个球从左扔到右，并动画它的行为。</p> <p><img src="/qt6book/assets/img/soccer_init.3a3f5a79.png" alt=""></p> <p>要理解此动画，我们需要将其分解成几个必要的变化。需要牢记动画就是动态修改属性。以下是几种不同的变化：</p> <ul><li><p>从左到右的 x 变化(<code>X1</code>)</p></li> <li><p>y 变化，先是从下到上的 <code>Y1</code>，再是从上到下的 <code>Y2</code>，再加一个弹跳</p></li> <li><p>整个动画周期的一个 360 度的旋转 <code>ROT1</code></p></li></ul> <p>完整的动画耗时 3 秒。</p> <p><img src="/qt6book/assets/img/soccer_plan.4299219e.png" alt=""></p> <p>先创建一个宽为 480，高为 360 的空元素作为根元素。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token keyword">import</span> QtQuick

<span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>

    <span class="token property"><span class="token keyword">property</span> <span class="token property">int</span> <span class="token property">duration</span></span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">3000</span></span>

    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">480</span></span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">300</span></span>

    <span class="token comment">// [...]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>将完整的动画耗时定义为一个引用，便于在动画中同步时长。</p> <p>下一步是添加背景色，分别是绿色和蓝色的渐变矩形。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">sky</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>width</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">200</span></span>
    <span class="token property">gradient</span><span class="token punctuation">:</span> <span class="token class-name">Gradient</span> <span class="token punctuation">{</span>
        <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;#0080FF&quot;</span> </span><span class="token punctuation">}</span>
        <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;#66CCFF&quot;</span> </span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ground</span>
    <span class="token property">anchors.top</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">sky<span class="token punctuation">.</span>bottom</span>
    <span class="token property">anchors.bottom</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>bottom</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>width</span>
    <span class="token property">gradient</span><span class="token punctuation">:</span> <span class="token class-name">Gradient</span> <span class="token punctuation">{</span>
        <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;#00FF00&quot;</span> </span><span class="token punctuation">}</span>
        <span class="token class-name">GradientStop</span> <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">1.0</span></span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;#00803F&quot;</span> </span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <p>上面的蓝色天空矩形的高度是 200 像素，下方的矩形的顶部锚定了天空的底部，底部锚定了根元素的底部。</p> <p>让我们在绿色部分添加足球。该足球是一张图片，存储在 “assets/soccer_ball.png”。开始的时候，我们将其放在左下角。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Image</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">0</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">-</span>height</span>
    <span class="token property">source</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;assets/soccer_ball.png&quot;</span></span>

    <span class="token class-name">MouseArea</span> <span class="token punctuation">{</span>
        <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token punctuation">{</span>
            ball<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>
            ball<span class="token punctuation">.</span>y <span class="token operator">=</span> root<span class="token punctuation">.</span>height<span class="token operator">-</span>ball<span class="token punctuation">.</span>height
            ball<span class="token punctuation">.</span>rotation <span class="token operator">=</span> <span class="token number">0</span>
            anim<span class="token punctuation">.</span><span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <p>该图片附加了一个点击区域。若足球被点击，足球将重置位置并重新开始动画。</p> <p>接下来，我们添加两个 y 变化。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">SequentialAnimation</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim</span>
    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;y&quot;</span></span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>
        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration <span class="token operator">*</span> <span class="token number">0.4</span></span>
    <span class="token punctuation">}</span>
    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;y&quot;</span></span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">240</span></span>
        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration <span class="token operator">*</span> <span class="token number">0.6</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/qt6book/assets/img/soccer_stage3.d2321a21.png" alt=""></p> <p>这指定了动画耗时的前 40% 是向上的动画，后 60% 是向下的动画，两个动画依次运行。变化目前是线性的，没有使用缓动曲线，后续我们会为其添加，目前我们只关注动画的运行。</p> <p>下一步，我们要添加 x 的变化。x 的变化应与 y 的变化同步，所以，我们需要将 y 的变化和 x 的变化封装到并行动画中。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ParallelAnimation</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim</span>
    <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">{</span>
        <span class="token comment">// ... our Y1, Y2 animation</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span> <span class="token comment">// X1 animation</span>
        <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;x&quot;</span></span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">400</span></span>
        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/qt6book/assets/img/soccer_stage4.be6c16c9.png" alt=""></p> <p>最后，我们期望球能转起来。为此，我们需要在并行动画中添加一个新的动画。我们选择 <code>RotationAnimation</code>，因为它适用于旋转。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ParallelAnimation</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim</span>
    <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">{</span>
        <span class="token comment">// ... our Y1, Y2 animation</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span> <span class="token comment">// X1 animation</span>
        <span class="token comment">// X1 animation</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">RotationAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;rotation&quot;</span></span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">720</span></span>
        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这就是完整的动画序列。还剩一件事，就是为球提供正确的缓动曲线。对于 <em>Y1</em> 动画，我们使用 <code>Easing.OutCirc</code> 曲线，因为它应该看起来更像一个圆形运动。<em>Y2</em> 使用 <code>Easing.OutBounce</code> 来给球一个弹跳，弹跳应该发生在结尾（尝试使用 <code>Easing.InBounce</code>，你会看到弹跳开始得很快）。</p> <p>The <em>X1</em> and <em>ROT1</em> animation are left as-is, with a linear curve.</p> <p>以下是完整的动画代码：</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">ParallelAnimation</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">anim</span>
    <span class="token class-name">SequentialAnimation</span> <span class="token punctuation">{</span>
        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
            <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
            <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;y&quot;</span></span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">20</span></span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration <span class="token operator">*</span> <span class="token number">0.4</span></span>
            <span class="token property">easing.type</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>OutCirc</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
            <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
            <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;y&quot;</span></span>
            <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>height<span class="token operator">-</span>ball<span class="token punctuation">.</span>height</span>
            <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration <span class="token operator">*</span> <span class="token number">0.6</span></span>
            <span class="token property">easing.type</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Easing<span class="token punctuation">.</span>OutBounce</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">NumberAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;x&quot;</span></span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>width<span class="token operator">-</span>ball<span class="token punctuation">.</span>width</span>
        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">RotationAnimation</span> <span class="token punctuation">{</span>
        <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">ball</span>
        <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;rotation&quot;</span></span>
        <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">720</span></span>
        <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>duration</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dogifyc/qt6book/edit/main/docs/ch05-fluid/animations.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/qt6book/ch05-fluid/fluid-elements.html" class="prev">
        流式元素
      </a></span> <span class="next"><a href="/qt6book/ch05-fluid/states-transitions.html">
        状态和过渡
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/qt6book/assets/js/app.49f675f8.js" defer></script><script src="/qt6book/assets/js/2.ea318f3c.js" defer></script><script src="/qt6book/assets/js/3.112743a2.js" defer></script>
  </body>
</html>
