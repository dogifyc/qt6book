<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>状态和过渡 | Qt 6 书籍</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="一本关于 QML 的书">
    
    <link rel="preload" href="/qt6book/assets/css/0.styles.fdf3cb50.css" as="style"><link rel="preload" href="/qt6book/assets/js/app.49f675f8.js" as="script"><link rel="preload" href="/qt6book/assets/js/2.ea318f3c.js" as="script"><link rel="preload" href="/qt6book/assets/js/20.a509c2f7.js" as="script"><link rel="prefetch" href="/qt6book/assets/js/10.70a34b30.js"><link rel="prefetch" href="/qt6book/assets/js/100.cff7a886.js"><link rel="prefetch" href="/qt6book/assets/js/101.503e20ce.js"><link rel="prefetch" href="/qt6book/assets/js/102.395792fa.js"><link rel="prefetch" href="/qt6book/assets/js/103.071d8b78.js"><link rel="prefetch" href="/qt6book/assets/js/104.f33ee0ed.js"><link rel="prefetch" href="/qt6book/assets/js/105.bb2168fe.js"><link rel="prefetch" href="/qt6book/assets/js/106.0e951818.js"><link rel="prefetch" href="/qt6book/assets/js/107.a51bd278.js"><link rel="prefetch" href="/qt6book/assets/js/108.eefe809c.js"><link rel="prefetch" href="/qt6book/assets/js/109.744ac99b.js"><link rel="prefetch" href="/qt6book/assets/js/11.82909cde.js"><link rel="prefetch" href="/qt6book/assets/js/110.11ad155f.js"><link rel="prefetch" href="/qt6book/assets/js/111.56537df6.js"><link rel="prefetch" href="/qt6book/assets/js/112.628464f9.js"><link rel="prefetch" href="/qt6book/assets/js/113.893d1439.js"><link rel="prefetch" href="/qt6book/assets/js/114.c00f3590.js"><link rel="prefetch" href="/qt6book/assets/js/115.319d8826.js"><link rel="prefetch" href="/qt6book/assets/js/116.a36dfadb.js"><link rel="prefetch" href="/qt6book/assets/js/117.24dc552e.js"><link rel="prefetch" href="/qt6book/assets/js/118.8bc8de4e.js"><link rel="prefetch" href="/qt6book/assets/js/119.bb5fbbd6.js"><link rel="prefetch" href="/qt6book/assets/js/12.7c20b914.js"><link rel="prefetch" href="/qt6book/assets/js/120.63c90b9f.js"><link rel="prefetch" href="/qt6book/assets/js/121.64979c23.js"><link rel="prefetch" href="/qt6book/assets/js/122.410ce3c2.js"><link rel="prefetch" href="/qt6book/assets/js/123.3ceaa95e.js"><link rel="prefetch" href="/qt6book/assets/js/124.78e05194.js"><link rel="prefetch" href="/qt6book/assets/js/125.6d9b2679.js"><link rel="prefetch" href="/qt6book/assets/js/126.77bf1e01.js"><link rel="prefetch" href="/qt6book/assets/js/127.d3b82f75.js"><link rel="prefetch" href="/qt6book/assets/js/128.9d705e68.js"><link rel="prefetch" href="/qt6book/assets/js/129.37f588a9.js"><link rel="prefetch" href="/qt6book/assets/js/13.44fdf993.js"><link rel="prefetch" href="/qt6book/assets/js/130.93765866.js"><link rel="prefetch" href="/qt6book/assets/js/131.12d0d18e.js"><link rel="prefetch" href="/qt6book/assets/js/132.f488195c.js"><link rel="prefetch" href="/qt6book/assets/js/133.6ef1565d.js"><link rel="prefetch" href="/qt6book/assets/js/134.f3e8c361.js"><link rel="prefetch" href="/qt6book/assets/js/135.b397c9b2.js"><link rel="prefetch" href="/qt6book/assets/js/136.7da1e551.js"><link rel="prefetch" href="/qt6book/assets/js/137.357076e2.js"><link rel="prefetch" href="/qt6book/assets/js/138.42b20678.js"><link rel="prefetch" href="/qt6book/assets/js/139.21e63093.js"><link rel="prefetch" href="/qt6book/assets/js/14.b10bffa3.js"><link rel="prefetch" href="/qt6book/assets/js/140.dfcc4732.js"><link rel="prefetch" href="/qt6book/assets/js/141.6317fc32.js"><link rel="prefetch" href="/qt6book/assets/js/142.288153ef.js"><link rel="prefetch" href="/qt6book/assets/js/143.4eff9ad0.js"><link rel="prefetch" href="/qt6book/assets/js/144.39149a0f.js"><link rel="prefetch" href="/qt6book/assets/js/145.ce392d81.js"><link rel="prefetch" href="/qt6book/assets/js/15.f918e179.js"><link rel="prefetch" href="/qt6book/assets/js/16.5d3c40fb.js"><link rel="prefetch" href="/qt6book/assets/js/17.2614a8fe.js"><link rel="prefetch" href="/qt6book/assets/js/18.b8e87e84.js"><link rel="prefetch" href="/qt6book/assets/js/19.cb8358b7.js"><link rel="prefetch" href="/qt6book/assets/js/21.fac41553.js"><link rel="prefetch" href="/qt6book/assets/js/22.b8bb6616.js"><link rel="prefetch" href="/qt6book/assets/js/23.ec36efe8.js"><link rel="prefetch" href="/qt6book/assets/js/24.a38239b6.js"><link rel="prefetch" href="/qt6book/assets/js/25.6ec5c6a5.js"><link rel="prefetch" href="/qt6book/assets/js/26.3f43459b.js"><link rel="prefetch" href="/qt6book/assets/js/27.b4de3c2a.js"><link rel="prefetch" href="/qt6book/assets/js/28.3d1a74fb.js"><link rel="prefetch" href="/qt6book/assets/js/29.0e1f197c.js"><link rel="prefetch" href="/qt6book/assets/js/3.112743a2.js"><link rel="prefetch" href="/qt6book/assets/js/30.69e1ba2b.js"><link rel="prefetch" href="/qt6book/assets/js/31.180e6ae8.js"><link rel="prefetch" href="/qt6book/assets/js/32.95f52d7a.js"><link rel="prefetch" href="/qt6book/assets/js/33.19531560.js"><link rel="prefetch" href="/qt6book/assets/js/34.1b2d9f18.js"><link rel="prefetch" href="/qt6book/assets/js/35.10c030c6.js"><link rel="prefetch" href="/qt6book/assets/js/36.51dde79c.js"><link rel="prefetch" href="/qt6book/assets/js/37.f955e155.js"><link rel="prefetch" href="/qt6book/assets/js/38.c5b68607.js"><link rel="prefetch" href="/qt6book/assets/js/39.28538ce3.js"><link rel="prefetch" href="/qt6book/assets/js/4.6ee77bf2.js"><link rel="prefetch" href="/qt6book/assets/js/40.c0ad21c1.js"><link rel="prefetch" href="/qt6book/assets/js/41.105e2872.js"><link rel="prefetch" href="/qt6book/assets/js/42.55911116.js"><link rel="prefetch" href="/qt6book/assets/js/43.8e441a9e.js"><link rel="prefetch" href="/qt6book/assets/js/44.35b2ff29.js"><link rel="prefetch" href="/qt6book/assets/js/45.7d1d010c.js"><link rel="prefetch" href="/qt6book/assets/js/46.7585557d.js"><link rel="prefetch" href="/qt6book/assets/js/47.450265aa.js"><link rel="prefetch" href="/qt6book/assets/js/48.f236e58d.js"><link rel="prefetch" href="/qt6book/assets/js/49.85eb3fbd.js"><link rel="prefetch" href="/qt6book/assets/js/5.c6d72f08.js"><link rel="prefetch" href="/qt6book/assets/js/50.0196025d.js"><link rel="prefetch" href="/qt6book/assets/js/51.1a5823e9.js"><link rel="prefetch" href="/qt6book/assets/js/52.83e09db4.js"><link rel="prefetch" href="/qt6book/assets/js/53.dedb04ac.js"><link rel="prefetch" href="/qt6book/assets/js/54.80561be2.js"><link rel="prefetch" href="/qt6book/assets/js/55.d2a21221.js"><link rel="prefetch" href="/qt6book/assets/js/56.564ff842.js"><link rel="prefetch" href="/qt6book/assets/js/57.757d907a.js"><link rel="prefetch" href="/qt6book/assets/js/58.50225fe8.js"><link rel="prefetch" href="/qt6book/assets/js/59.9e233383.js"><link rel="prefetch" href="/qt6book/assets/js/6.381344fb.js"><link rel="prefetch" href="/qt6book/assets/js/60.04d29815.js"><link rel="prefetch" href="/qt6book/assets/js/61.0c74ecb4.js"><link rel="prefetch" href="/qt6book/assets/js/62.d5c85dcf.js"><link rel="prefetch" href="/qt6book/assets/js/63.8775d8a6.js"><link rel="prefetch" href="/qt6book/assets/js/64.d6548a41.js"><link rel="prefetch" href="/qt6book/assets/js/65.9ab78926.js"><link rel="prefetch" href="/qt6book/assets/js/66.cd7855b2.js"><link rel="prefetch" href="/qt6book/assets/js/67.1ff5900b.js"><link rel="prefetch" href="/qt6book/assets/js/68.74f0245e.js"><link rel="prefetch" href="/qt6book/assets/js/69.1b2e800d.js"><link rel="prefetch" href="/qt6book/assets/js/7.53dffc97.js"><link rel="prefetch" href="/qt6book/assets/js/70.19fafa64.js"><link rel="prefetch" href="/qt6book/assets/js/71.aca6355b.js"><link rel="prefetch" href="/qt6book/assets/js/72.1a3808cd.js"><link rel="prefetch" href="/qt6book/assets/js/73.de73d4a5.js"><link rel="prefetch" href="/qt6book/assets/js/74.4f6fdc1a.js"><link rel="prefetch" href="/qt6book/assets/js/75.fa040cbb.js"><link rel="prefetch" href="/qt6book/assets/js/76.c943dcfb.js"><link rel="prefetch" href="/qt6book/assets/js/77.5e5240a0.js"><link rel="prefetch" href="/qt6book/assets/js/78.4352cfdb.js"><link rel="prefetch" href="/qt6book/assets/js/79.64132667.js"><link rel="prefetch" href="/qt6book/assets/js/8.a29b933c.js"><link rel="prefetch" href="/qt6book/assets/js/80.99cf0f52.js"><link rel="prefetch" href="/qt6book/assets/js/81.8dc9b0d5.js"><link rel="prefetch" href="/qt6book/assets/js/82.e60a2b4d.js"><link rel="prefetch" href="/qt6book/assets/js/83.ff48a41f.js"><link rel="prefetch" href="/qt6book/assets/js/84.72db517a.js"><link rel="prefetch" href="/qt6book/assets/js/85.876eef38.js"><link rel="prefetch" href="/qt6book/assets/js/86.5ed4ad32.js"><link rel="prefetch" href="/qt6book/assets/js/87.8df5143a.js"><link rel="prefetch" href="/qt6book/assets/js/88.94bf0081.js"><link rel="prefetch" href="/qt6book/assets/js/89.0272804b.js"><link rel="prefetch" href="/qt6book/assets/js/9.7436ab3c.js"><link rel="prefetch" href="/qt6book/assets/js/90.871c44c7.js"><link rel="prefetch" href="/qt6book/assets/js/91.c38e4ee7.js"><link rel="prefetch" href="/qt6book/assets/js/92.d79de636.js"><link rel="prefetch" href="/qt6book/assets/js/93.81493d9a.js"><link rel="prefetch" href="/qt6book/assets/js/94.4eef95b9.js"><link rel="prefetch" href="/qt6book/assets/js/95.3804e65e.js"><link rel="prefetch" href="/qt6book/assets/js/96.360acf76.js"><link rel="prefetch" href="/qt6book/assets/js/97.6a742d1c.js"><link rel="prefetch" href="/qt6book/assets/js/98.7e121e3a.js"><link rel="prefetch" href="/qt6book/assets/js/99.86b18043.js">
    <link rel="stylesheet" href="/qt6book/assets/css/0.styles.fdf3cb50.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/qt6book/" class="home-link router-link-active"><!----> <span class="site-name">Qt 6 书籍</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/dogifyc/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/dogifyc/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/qt6book/preface/preface" class="sidebar-heading clickable"><span>前言</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/preface/preface.html" class="sidebar-link">欢迎！</a></li><li><a href="/qt6book/preface/acknowledgements.html" class="sidebar-link">鸣谢</a></li><li><a href="/qt6book/preface/authors.html" class="sidebar-link">作者</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch01-meetqt/meet-qt" class="sidebar-heading clickable"><span>遇见 Qt</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch01-meetqt/meet-qt.html" class="sidebar-link">Qt 和 Qt Quick</a></li><li><a href="/qt6book/ch01-meetqt/blocks.html" class="sidebar-link">Qt 构成</a></li><li><a href="/qt6book/ch01-meetqt/intro.html" class="sidebar-link">Qt 6 简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch02-start/quick-start" class="sidebar-heading clickable"><span>起步</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch02-start/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/qt6book/ch02-start/install.html" class="sidebar-link">安装 Qt 6 SDK</a></li><li><a href="/qt6book/ch02-start/hello-world.html" class="sidebar-link">Hello World</a></li><li><a href="/qt6book/ch02-start/app-types.html" class="sidebar-link">应用类型</a></li><li><a href="/qt6book/ch02-start/summary.html" class="sidebar-link">摘要</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch03-qtcreator/qt-creator" class="sidebar-heading clickable"><span>Qt Creator IDE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch03-qtcreator/qt-creator.html" class="sidebar-link">Qt Creator IDE</a></li><li><a href="/qt6book/ch03-qtcreator/user-interface.html" class="sidebar-link">用户界面</a></li><li><a href="/qt6book/ch03-qtcreator/kit-registry.html" class="sidebar-link">注册 Qt 套件</a></li><li><a href="/qt6book/ch03-qtcreator/projects.html" class="sidebar-link">项目管理</a></li><li><a href="/qt6book/ch03-qtcreator/editor.html" class="sidebar-link">使用编辑器</a></li><li><a href="/qt6book/ch03-qtcreator/locator.html" class="sidebar-link">定位器</a></li><li><a href="/qt6book/ch03-qtcreator/debugging.html" class="sidebar-link">调试</a></li><li><a href="/qt6book/ch03-qtcreator/shortcuts.html" class="sidebar-link">快捷键</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch04-qmlstart/quick-start" class="sidebar-heading clickable"><span>快速开始</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch04-qmlstart/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/qt6book/ch04-qmlstart/qml-syntax.html" class="sidebar-link">QML 语法</a></li><li><a href="/qt6book/ch04-qmlstart/core-elements.html" class="sidebar-link">核心元素</a></li><li><a href="/qt6book/ch04-qmlstart/components.html" class="sidebar-link">组件</a></li><li><a href="/qt6book/ch04-qmlstart/transformations.html" class="sidebar-link">简单变化</a></li><li><a href="/qt6book/ch04-qmlstart/positioning.html" class="sidebar-link">定位元素</a></li><li><a href="/qt6book/ch04-qmlstart/layout.html" class="sidebar-link">布局元素</a></li><li><a href="/qt6book/ch04-qmlstart/input.html" class="sidebar-link">输入元素</a></li><li><a href="/qt6book/ch04-qmlstart/advanced.html" class="sidebar-link">进阶技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch05-fluid/fluid-elements" class="sidebar-heading clickable open"><span>流式元素</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch05-fluid/fluid-elements.html" class="sidebar-link">流式元素</a></li><li><a href="/qt6book/ch05-fluid/animations.html" class="sidebar-link">动画</a></li><li><a href="/qt6book/ch05-fluid/states-transitions.html" aria-current="page" class="active sidebar-link">状态和过渡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/qt6book/ch05-fluid/states-transitions.html#状态" class="sidebar-link">状态</a></li><li class="sidebar-sub-header"><a href="/qt6book/ch05-fluid/states-transitions.html#过渡" class="sidebar-link">过渡</a></li></ul></li><li><a href="/qt6book/ch05-fluid/advanced.html" class="sidebar-link">进阶技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch06-controls/controls2" class="sidebar-heading clickable"><span>QtQuick Controls</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch06-controls/controls2.html" class="sidebar-link">UI Controls</a></li><li><a href="/qt6book/ch06-controls/introduction.html" class="sidebar-link">Controls 简介</a></li><li><a href="/qt6book/ch06-controls/image-viewer.html" class="sidebar-link">Image 查看器</a></li><li><a href="/qt6book/ch06-controls/common-patterns.html" class="sidebar-link">Common Patterns</a></li><li><a href="/qt6book/ch06-controls/imagine-style.html" class="sidebar-link">The Imagine Style</a></li><li><a href="/qt6book/ch06-controls/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch07-modelview/model-view" class="sidebar-heading clickable"><span>Model View</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch07-modelview/model-view.html" class="sidebar-link">Model-View-Delegate</a></li><li><a href="/qt6book/ch07-modelview/concept.html" class="sidebar-link">Concept</a></li><li><a href="/qt6book/ch07-modelview/basic-models.html" class="sidebar-link">Basic Models</a></li><li><a href="/qt6book/ch07-modelview/dynamic-views.html" class="sidebar-link">Dynamic Views</a></li><li><a href="/qt6book/ch07-modelview/delegate.html" class="sidebar-link">Delegate</a></li><li><a href="/qt6book/ch07-modelview/advanced.html" class="sidebar-link">Advanced Techniques</a></li><li><a href="/qt6book/ch07-modelview/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch08-canvas/canvas-element" class="sidebar-heading clickable"><span>Canvas</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch08-canvas/canvas-element.html" class="sidebar-link">Canvas Element</a></li><li><a href="/qt6book/ch08-canvas/convenience-api.html" class="sidebar-link">Convenience API</a></li><li><a href="/qt6book/ch08-canvas/gradients.html" class="sidebar-link">Gradients</a></li><li><a href="/qt6book/ch08-canvas/shadows.html" class="sidebar-link">Shadows</a></li><li><a href="/qt6book/ch08-canvas/images.html" class="sidebar-link">Images</a></li><li><a href="/qt6book/ch08-canvas/transformation.html" class="sidebar-link">Transformation</a></li><li><a href="/qt6book/ch08-canvas/composition-modes.html" class="sidebar-link">Composition Modes</a></li><li><a href="/qt6book/ch08-canvas/pixel-buffer.html" class="sidebar-link">Pixel Buffers</a></li><li><a href="/qt6book/ch08-canvas/canvas-paint.html" class="sidebar-link">Canvas Paint</a></li><li><a href="/qt6book/ch08-canvas/port-from-html.html" class="sidebar-link">Porting from HTML5 Canvas</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch09-shapes/shapes" class="sidebar-heading clickable"><span>Shapes</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch09-shapes/shapes.html" class="sidebar-link">Shapes</a></li><li><a href="/qt6book/ch09-shapes/basics.html" class="sidebar-link">A Basic Shape</a></li><li><a href="/qt6book/ch09-shapes/paths.html" class="sidebar-link">Building Paths</a></li><li><a href="/qt6book/ch09-shapes/gradients.html" class="sidebar-link">Filling Shapes</a></li><li><a href="/qt6book/ch09-shapes/animations.html" class="sidebar-link">Animating Shapes</a></li><li><a href="/qt6book/ch09-shapes/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch10-effects/effects" class="sidebar-heading clickable"><span>Effects</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch10-effects/effects.html" class="sidebar-link">Effects in QML</a></li><li><a href="/qt6book/ch10-effects/particles.html" class="sidebar-link">Particle Concept</a></li><li><a href="/qt6book/ch10-effects/simple-simulation.html" class="sidebar-link">Simple Simulation</a></li><li><a href="/qt6book/ch10-effects/particle-parameters.html" class="sidebar-link">Particle Parameters</a></li><li><a href="/qt6book/ch10-effects/directed-particles.html" class="sidebar-link">Directed Particles</a></li><li><a href="/qt6book/ch10-effects/affecting-particles.html" class="sidebar-link">Affecting Particles</a></li><li><a href="/qt6book/ch10-effects/particle-groups.html" class="sidebar-link">Particle Groups</a></li><li><a href="/qt6book/ch10-effects/particle-painters.html" class="sidebar-link">Particle Painters</a></li><li><a href="/qt6book/ch10-effects/opengl-shaders.html" class="sidebar-link">Graphics Shaders</a></li><li><a href="/qt6book/ch10-effects/shader-elements.html" class="sidebar-link">Shader Elements</a></li><li><a href="/qt6book/ch10-effects/fragment-shaders.html" class="sidebar-link">Fragment Shaders</a></li><li><a href="/qt6book/ch10-effects/wave-effect.html" class="sidebar-link">Wave Effect</a></li><li><a href="/qt6book/ch10-effects/vertex-shader.html" class="sidebar-link">Vertex Shader</a></li><li><a href="/qt6book/ch10-effects/curtain-effect.html" class="sidebar-link">Curtain Effect</a></li><li><a href="/qt6book/ch10-effects/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch11-multimedia/multimedia" class="sidebar-heading clickable"><span>Multimedia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch11-multimedia/multimedia.html" class="sidebar-link">Multimedia</a></li><li><a href="/qt6book/ch11-multimedia/playing-media.html" class="sidebar-link">Playing Media</a></li><li><a href="/qt6book/ch11-multimedia/sound-effects.html" class="sidebar-link">Sound Effects</a></li><li><a href="/qt6book/ch11-multimedia/video-streams.html" class="sidebar-link">Video Streams</a></li><li><a href="/qt6book/ch11-multimedia/capturing-images.html" class="sidebar-link">Capturing Images</a></li><li><a href="/qt6book/ch11-multimedia/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch12-qtquick3d/intro" class="sidebar-heading clickable"><span>Qt Quick 3D</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch12-qtquick3d/intro.html" class="sidebar-link">Qt Quick 3D</a></li><li><a href="/qt6book/ch12-qtquick3d/basics.html" class="sidebar-link">The Basics</a></li><li><a href="/qt6book/ch12-qtquick3d/assets.html" class="sidebar-link">Working with Assets</a></li><li><a href="/qt6book/ch12-qtquick3d/materials-and-light.html" class="sidebar-link">Materials and Light</a></li><li><a href="/qt6book/ch12-qtquick3d/animations.html" class="sidebar-link">Animations</a></li><li><a href="/qt6book/ch12-qtquick3d/mixing-2d-and-3d.html" class="sidebar-link">Mixing 2D and 3D Contents</a></li><li><a href="/qt6book/ch12-qtquick3d/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch13-networking/networking" class="sidebar-heading clickable"><span>Networking</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch13-networking/networking.html" class="sidebar-link">Networking</a></li><li><a href="/qt6book/ch13-networking/serve-qml.html" class="sidebar-link">Serving UI via HTTP</a></li><li><a href="/qt6book/ch13-networking/templates.html" class="sidebar-link">Templates</a></li><li><a href="/qt6book/ch13-networking/http-requests.html" class="sidebar-link">HTTP Requests</a></li><li><a href="/qt6book/ch13-networking/local-files.html" class="sidebar-link">Local files</a></li><li><a href="/qt6book/ch13-networking/rest-api.html" class="sidebar-link">REST API</a></li><li><a href="/qt6book/ch13-networking/authentication.html" class="sidebar-link">Authentication using OAuth</a></li><li><a href="/qt6book/ch13-networking/web-sockets.html" class="sidebar-link">Web Sockets</a></li><li><a href="/qt6book/ch13-networking/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch14-storage/storage" class="sidebar-heading clickable"><span>Storage</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch14-storage/storage.html" class="sidebar-link">Storage</a></li><li><a href="/qt6book/ch14-storage/settings.html" class="sidebar-link">Settings</a></li><li><a href="/qt6book/ch14-storage/local-storage.html" class="sidebar-link">Local Storage - SQL</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch15-dynamicqml/dynamic-qml" class="sidebar-heading clickable"><span>Dynamic QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch15-dynamicqml/dynamic-qml.html" class="sidebar-link">Dynamic QML</a></li><li><a href="/qt6book/ch15-dynamicqml/loading-components.html" class="sidebar-link">Loading Components Dynamically</a></li><li><a href="/qt6book/ch15-dynamicqml/dynamic-objects.html" class="sidebar-link">Creating and Destroying Objects</a></li><li><a href="/qt6book/ch15-dynamicqml/tracking-objects.html" class="sidebar-link">Tracking Dynamic Objects</a></li><li><a href="/qt6book/ch15-dynamicqml/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch16-javascript/javascript" class="sidebar-heading clickable"><span>Javascript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch16-javascript/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/qt6book/ch16-javascript/html-qml.html" class="sidebar-link">Browser/HTML vs Qt Quick/QML</a></li><li><a href="/qt6book/ch16-javascript/js-language.html" class="sidebar-link">JS Language</a></li><li><a href="/qt6book/ch16-javascript/js-objects.html" class="sidebar-link">JS Objects</a></li><li><a href="/qt6book/ch16-javascript/js-console.html" class="sidebar-link">Creating a JS Console</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch17-qtcpp/qtcpp" class="sidebar-heading clickable"><span>Qt C++</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch17-qtcpp/qtcpp.html" class="sidebar-link">Qt and C++</a></li><li><a href="/qt6book/ch17-qtcpp/boilerplate.html" class="sidebar-link">A Boilerplate Application</a></li><li><a href="/qt6book/ch17-qtcpp/qobject.html" class="sidebar-link">The QObject</a></li><li><a href="/qt6book/ch17-qtcpp/build-system.html" class="sidebar-link">Build Systems</a></li><li><a href="/qt6book/ch17-qtcpp/common-classes.html" class="sidebar-link">Common Qt Classes</a></li><li><a href="/qt6book/ch17-qtcpp/cpp-models.html" class="sidebar-link">Models in C++</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch18-extensions/extending-qml" class="sidebar-heading clickable"><span>Extending QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch18-extensions/extending-qml.html" class="sidebar-link">Extending QML with C++</a></li><li><a href="/qt6book/ch18-extensions/qml-runtime.html" class="sidebar-link">Understanding the QML Run-time</a></li><li><a href="/qt6book/ch18-extensions/plugin-content.html" class="sidebar-link">Plugin Content</a></li><li><a href="/qt6book/ch18-extensions/create-plugin.html" class="sidebar-link">Creating the plugin</a></li><li><a href="/qt6book/ch18-extensions/fileio-demo.html" class="sidebar-link">FileIO Implementation</a></li><li><a href="/qt6book/ch18-extensions/using-fileio.html" class="sidebar-link">Using FileIO</a></li><li><a href="/qt6book/ch18-extensions/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch19-python/qt-python" class="sidebar-heading clickable"><span>Qt for Python</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch19-python/qt-python.html" class="sidebar-link">Qt for Python</a></li><li><a href="/qt6book/ch19-python/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/qt6book/ch19-python/installing.html" class="sidebar-link">Installing</a></li><li><a href="/qt6book/ch19-python/build-app.html" class="sidebar-link">Building an Application</a></li><li><a href="/qt6book/ch19-python/limitations.html" class="sidebar-link">Limitations</a></li><li><a href="/qt6book/ch19-python/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch20-qtformcu/qtformcu" class="sidebar-heading clickable"><span>Qt for MCUs</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch20-qtformcu/qtformcu.html" class="sidebar-link">Qt for MCUs</a></li><li><a href="/qt6book/ch20-qtformcu/setup.html" class="sidebar-link">Setup</a></li><li><a href="/qt6book/ch20-qtformcu/helloworld.html" class="sidebar-link">Hello World - for MCUs</a></li><li><a href="/qt6book/ch20-qtformcu/cpp.html" class="sidebar-link">Integrating with C++</a></li><li><a href="/qt6book/ch20-qtformcu/models.html" class="sidebar-link">Working with Models</a></li><li><a href="/qt6book/ch20-qtformcu/summary.html" class="sidebar-link">Summary</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="状态和过渡"><a href="#状态和过渡" class="header-anchor">#</a> 状态和过渡</h1> <p>用户界面的某些部分通常可以用状态描述。状态定义了一个或多个属性值的变化过程，可以由特定的条件触发。</p> <p>此外，状态切换可以附加过渡，过渡定义了动画的变化过程或额外执行的动作。动作也可在进入状态时触发。</p> <h2 id="状态"><a href="#状态" class="header-anchor">#</a> 状态</h2> <p>QML 中可通过 <code>State</code> 元素为任意元素定义状态，其值是 <code>states</code> 数组。</p> <p>状态由名称标识，其最简单的形式由元素的一系列属性修改组成。默认状态由元素的初始属性定义，其名字为 <code>&quot;&quot;</code>（一个空字符串）。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>
    <span class="token property">states</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token class-name">State</span> <span class="token punctuation">{</span>
            <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;go&quot;</span></span>
            <span class="token class-name">PropertyChanges</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">State</span> <span class="token punctuation">{</span>
            <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;stop&quot;</span></span>
            <span class="token class-name">PropertyChanges</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>通过为 <code>state</code> 属性赋予一个新的状态名称可以修改状态，这些状态被定义在元素的 <code>states</code> 属性中。</p> <div class="custom-block tip"><p class="custom-block-title">用 when 控制状态</p> <p>另一种控制状态的方式是通过 <code>State</code> 元素的 <code>when</code> 属性。<code>when</code> 属性可以设置为一个表示式，当其值为 true 时，该状态会被启用。</p></div> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root</span>
    <span class="token property">states</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        ...
    <span class="token punctuation">]</span>

    <span class="token class-name">Button</span> <span class="token punctuation">{</span>
        <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">goButton</span>
        ...
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">&quot;go&quot;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <p>比如，红绿灯有两个信号灯。上方的是意味着禁行的红色，下面的是允许通过的绿灯。在此例中，两个灯不能同时亮。让我们看看状态变化图。</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>当启动改系统时，它自动进入默认的 <code>stop</code> 状态。停止状态会将 <code>light1</code> 改为红色，<code>light2</code> 改为黑色。</p> <p>外部事件能将状态改为 <code>go</code>。在启动状态中，<code>light1</code> 的颜色改为黑色，<code>light2</code> 的颜色改为绿色，允许行人通过。</p> <p>为了更好的理解，我们画了一个包含两个灯的用户界面。为了简单，我们定义了两个矩形，矩形的圆角是宽度的一半（矩形宽和高相同，这意味着着是一个正方形）。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light1</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">25</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">15</span></span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">width</span>
    <span class="token property">radius</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">width <span class="token operator">/</span> <span class="token number">2</span></span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>black</span>
    <span class="token property">border.color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Qt<span class="token punctuation">.</span><span class="token function">lighter</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1.1</span><span class="token punctuation">)</span></span>
<span class="token punctuation">}</span>

<span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    <span class="token property">id</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light2</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">25</span></span><span class="token punctuation">;</span> <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">135</span></span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">100</span></span><span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">width</span>
    <span class="token property">radius</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">width<span class="token operator">/</span><span class="token number">2</span></span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>black</span>
    <span class="token property">border.color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Qt<span class="token punctuation">.</span><span class="token function">lighter</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token number">1.1</span><span class="token punctuation">)</span></span>
<span class="token punctuation">}</span></code></pre></div><p>如状态图中所示，我们定义了两种状态：<code>&quot;go&quot;</code> 状态和 <code>&quot;stop&quot;</code> 状态，它们分别将灯的颜色改为绿色或红色。我们将 <code>state</code> 属性改为 <code>stop</code>，确保交通灯的初始状态是 <code>stop</code>。</p> <div class="custom-block tip"><p class="custom-block-title">初始状态</p> <p>我们可以只定义一个 <code>&quot;go&quot;</code> 状态，通过将 <code>light</code> 设置为红色，<code>light2</code> 设置为黑色达到隐式设置初始状态的目的。由初始属性 <code>&quot;&quot;</code> 定义的状态将和 <code>&quot;stop&quot;</code> 状态一致。</p></div> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token property">state</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;stop&quot;</span></span>

<span class="token property">states</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token class-name">State</span> <span class="token punctuation">{</span>
        <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;stop&quot;</span></span>
        <span class="token class-name">PropertyChanges</span> <span class="token punctuation">{</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light1</span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>red </span><span class="token punctuation">}</span>
        <span class="token class-name">PropertyChanges</span> <span class="token punctuation">{</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light2</span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>black </span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token class-name">State</span> <span class="token punctuation">{</span>
        <span class="token property">name</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;go&quot;</span></span>
        <span class="token class-name">PropertyChanges</span> <span class="token punctuation">{</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light1</span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>black </span><span class="token punctuation">}</span>
        <span class="token class-name">PropertyChanges</span> <span class="token punctuation">{</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light2</span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">root<span class="token punctuation">.</span>green </span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div><p>示例中其实不太需要 <code>PropertyChanges { target: light2; color: &quot;black&quot; }</code>，因为 <code>light2</code> 的初始颜色早就是黑的。对于状态来说，它只需说明属性是如何从默认状态改变的，而不是从上一个状态。</p> <p>通过点击覆盖信号灯的 MouseArea 可以切换 &quot;go&quot; 和 &quot;stop&quot; 状态。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">MouseArea</span> <span class="token punctuation">{</span>
    <span class="token property">anchors.fill</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent</span>
    <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">parent<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>state <span class="token operator">==</span> <span class="token string">&quot;stop&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;go&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span></span>
<span class="token punctuation">}</span></code></pre></div><p><img src="/qt6book/assets/img/trafficlight_ui.15e3dd50.png" alt=""></p> <p>现在我们能成功地切换信号的状态。为了让 UI 更加自然和吸引人，我们需要添加一些动画过渡效果。过渡可在状态切换时触发。</p> <div class="custom-block tip"><p class="custom-block-title">使用脚本</p> <p>可以通过脚本而不是 QML 状态来实现类似的逻辑。不过，相对 JavaScript 来说，QML 是一门更好的描述用户界面的语言。你应该尽可能地写声明式代码，而不是命令式代码。</p></div> <h2 id="过渡"><a href="#过渡" class="header-anchor">#</a> 过渡</h2> <p>每个元素可以应用一堆过渡。过渡可在状态切换时被执行。</p> <p>你可以通过 <code>from:</code> 和 <code>to:</code> 属性定义状态变化时应执行哪个过渡。这俩属性的行为类似过滤器：当过滤结果为真时，过渡会被执行。你也可以使用通配符 &quot;*&quot;，这意味着匹配任何状态。</p> <p>比方说，<code>from: &quot;*&quot;; to: &quot;*&quot;</code> 意味着从任意状态到任意状态，且这是 <code>from</code> 和 <code>to</code> 的默认值。这意味着每次状态切换时都会应用过渡。</p> <p>例如，当状态由 &quot;go&quot; 变为 &quot;stop&quot; 时，在颜色改变时，我们希望应用过渡。而反向的状态变化（&quot;stop&quot; 到 &quot;go&quot;）时，我们希望颜色立刻变化，不应用过渡。</p> <p>我们通过 <code>from</code> 和 <code>to</code> 属性限制过渡仅在状态由 &quot;go&quot; 变为 &quot;stop&quot; 时触发。在过渡内部，我们为每个灯添加了两个颜色动画，它们将应用状态定义中定义的属性变化。</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token property">transitions</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token class-name">Transition</span> <span class="token punctuation">{</span>
        <span class="token property">from</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;stop&quot;</span></span><span class="token punctuation">;</span> <span class="token property">to</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;go&quot;</span></span>
        <span class="token comment">// from: &quot;*&quot;; to: &quot;*&quot;</span>
        <span class="token class-name">ColorAnimation</span> <span class="token punctuation">{</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light1</span><span class="token punctuation">;</span> <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;color&quot;</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2000</span> </span><span class="token punctuation">}</span>
        <span class="token class-name">ColorAnimation</span> <span class="token punctuation">{</span> <span class="token property">target</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">light2</span><span class="token punctuation">;</span> <span class="token property">properties</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;color&quot;</span></span><span class="token punctuation">;</span> <span class="token property">duration</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">2000</span> </span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div><p>可以点击 UI 切换状态。状态会立刻应用，过渡运行期间也能改变状态。可以试试在 &quot;stop&quot; 转变至 &quot;go&quot; 的过渡期间点击界面。你可以看到变化立刻发生。</p> <p><img src="/qt6book/assets/img/trafficlight_transition.42f57b67.png" alt=""></p> <p>你可以玩玩这个 UI，比如，将不活跃的灯缩小，以突出活动灯。</p> <p>为此，你需要为过渡添加另一个这对缩放属性的变化，处理过渡时 scale 属性的动画。</p> <p>另一个选项是添加一种“注意”状态，此时为闪烁的黄灯。为此，你需要在过渡中添加串行动画，一秒后变为黄色（动画的 &quot;to&quot; 属性，一秒后变为黑色）。</p> <p>也许你还想改变缓动曲线，使其更具视觉吸引力。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dogifyc/qt6book/edit/main/docs/ch05-fluid/states-transitions.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/qt6book/ch05-fluid/animations.html" class="prev">
        动画
      </a></span> <span class="next"><a href="/qt6book/ch05-fluid/advanced.html">
        进阶技巧
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/qt6book/assets/js/app.49f675f8.js" defer></script><script src="/qt6book/assets/js/2.ea318f3c.js" defer></script><script src="/qt6book/assets/js/20.a509c2f7.js" defer></script>
  </body>
</html>
