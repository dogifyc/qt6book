<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Integrating with C++ | Qt 6 书籍</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="一本关于 QML 的书">
    
    <link rel="preload" href="/qt6book/assets/css/0.styles.fdf3cb50.css" as="style"><link rel="preload" href="/qt6book/assets/js/app.49f675f8.js" as="script"><link rel="preload" href="/qt6book/assets/js/2.ea318f3c.js" as="script"><link rel="preload" href="/qt6book/assets/js/78.4352cfdb.js" as="script"><link rel="prefetch" href="/qt6book/assets/js/10.70a34b30.js"><link rel="prefetch" href="/qt6book/assets/js/100.cff7a886.js"><link rel="prefetch" href="/qt6book/assets/js/101.503e20ce.js"><link rel="prefetch" href="/qt6book/assets/js/102.395792fa.js"><link rel="prefetch" href="/qt6book/assets/js/103.071d8b78.js"><link rel="prefetch" href="/qt6book/assets/js/104.f33ee0ed.js"><link rel="prefetch" href="/qt6book/assets/js/105.bb2168fe.js"><link rel="prefetch" href="/qt6book/assets/js/106.0e951818.js"><link rel="prefetch" href="/qt6book/assets/js/107.a51bd278.js"><link rel="prefetch" href="/qt6book/assets/js/108.eefe809c.js"><link rel="prefetch" href="/qt6book/assets/js/109.744ac99b.js"><link rel="prefetch" href="/qt6book/assets/js/11.82909cde.js"><link rel="prefetch" href="/qt6book/assets/js/110.11ad155f.js"><link rel="prefetch" href="/qt6book/assets/js/111.56537df6.js"><link rel="prefetch" href="/qt6book/assets/js/112.628464f9.js"><link rel="prefetch" href="/qt6book/assets/js/113.893d1439.js"><link rel="prefetch" href="/qt6book/assets/js/114.c00f3590.js"><link rel="prefetch" href="/qt6book/assets/js/115.319d8826.js"><link rel="prefetch" href="/qt6book/assets/js/116.a36dfadb.js"><link rel="prefetch" href="/qt6book/assets/js/117.24dc552e.js"><link rel="prefetch" href="/qt6book/assets/js/118.8bc8de4e.js"><link rel="prefetch" href="/qt6book/assets/js/119.bb5fbbd6.js"><link rel="prefetch" href="/qt6book/assets/js/12.7c20b914.js"><link rel="prefetch" href="/qt6book/assets/js/120.63c90b9f.js"><link rel="prefetch" href="/qt6book/assets/js/121.64979c23.js"><link rel="prefetch" href="/qt6book/assets/js/122.410ce3c2.js"><link rel="prefetch" href="/qt6book/assets/js/123.3ceaa95e.js"><link rel="prefetch" href="/qt6book/assets/js/124.78e05194.js"><link rel="prefetch" href="/qt6book/assets/js/125.6d9b2679.js"><link rel="prefetch" href="/qt6book/assets/js/126.77bf1e01.js"><link rel="prefetch" href="/qt6book/assets/js/127.d3b82f75.js"><link rel="prefetch" href="/qt6book/assets/js/128.9d705e68.js"><link rel="prefetch" href="/qt6book/assets/js/129.37f588a9.js"><link rel="prefetch" href="/qt6book/assets/js/13.44fdf993.js"><link rel="prefetch" href="/qt6book/assets/js/130.93765866.js"><link rel="prefetch" href="/qt6book/assets/js/131.12d0d18e.js"><link rel="prefetch" href="/qt6book/assets/js/132.f488195c.js"><link rel="prefetch" href="/qt6book/assets/js/133.6ef1565d.js"><link rel="prefetch" href="/qt6book/assets/js/134.f3e8c361.js"><link rel="prefetch" href="/qt6book/assets/js/135.b397c9b2.js"><link rel="prefetch" href="/qt6book/assets/js/136.7da1e551.js"><link rel="prefetch" href="/qt6book/assets/js/137.357076e2.js"><link rel="prefetch" href="/qt6book/assets/js/138.42b20678.js"><link rel="prefetch" href="/qt6book/assets/js/139.21e63093.js"><link rel="prefetch" href="/qt6book/assets/js/14.b10bffa3.js"><link rel="prefetch" href="/qt6book/assets/js/140.dfcc4732.js"><link rel="prefetch" href="/qt6book/assets/js/141.6317fc32.js"><link rel="prefetch" href="/qt6book/assets/js/142.288153ef.js"><link rel="prefetch" href="/qt6book/assets/js/143.4eff9ad0.js"><link rel="prefetch" href="/qt6book/assets/js/144.39149a0f.js"><link rel="prefetch" href="/qt6book/assets/js/145.ce392d81.js"><link rel="prefetch" href="/qt6book/assets/js/15.f918e179.js"><link rel="prefetch" href="/qt6book/assets/js/16.5d3c40fb.js"><link rel="prefetch" href="/qt6book/assets/js/17.2614a8fe.js"><link rel="prefetch" href="/qt6book/assets/js/18.b8e87e84.js"><link rel="prefetch" href="/qt6book/assets/js/19.cb8358b7.js"><link rel="prefetch" href="/qt6book/assets/js/20.a509c2f7.js"><link rel="prefetch" href="/qt6book/assets/js/21.fac41553.js"><link rel="prefetch" href="/qt6book/assets/js/22.b8bb6616.js"><link rel="prefetch" href="/qt6book/assets/js/23.ec36efe8.js"><link rel="prefetch" href="/qt6book/assets/js/24.a38239b6.js"><link rel="prefetch" href="/qt6book/assets/js/25.6ec5c6a5.js"><link rel="prefetch" href="/qt6book/assets/js/26.3f43459b.js"><link rel="prefetch" href="/qt6book/assets/js/27.b4de3c2a.js"><link rel="prefetch" href="/qt6book/assets/js/28.3d1a74fb.js"><link rel="prefetch" href="/qt6book/assets/js/29.0e1f197c.js"><link rel="prefetch" href="/qt6book/assets/js/3.112743a2.js"><link rel="prefetch" href="/qt6book/assets/js/30.69e1ba2b.js"><link rel="prefetch" href="/qt6book/assets/js/31.180e6ae8.js"><link rel="prefetch" href="/qt6book/assets/js/32.95f52d7a.js"><link rel="prefetch" href="/qt6book/assets/js/33.19531560.js"><link rel="prefetch" href="/qt6book/assets/js/34.1b2d9f18.js"><link rel="prefetch" href="/qt6book/assets/js/35.10c030c6.js"><link rel="prefetch" href="/qt6book/assets/js/36.51dde79c.js"><link rel="prefetch" href="/qt6book/assets/js/37.f955e155.js"><link rel="prefetch" href="/qt6book/assets/js/38.c5b68607.js"><link rel="prefetch" href="/qt6book/assets/js/39.28538ce3.js"><link rel="prefetch" href="/qt6book/assets/js/4.6ee77bf2.js"><link rel="prefetch" href="/qt6book/assets/js/40.c0ad21c1.js"><link rel="prefetch" href="/qt6book/assets/js/41.105e2872.js"><link rel="prefetch" href="/qt6book/assets/js/42.55911116.js"><link rel="prefetch" href="/qt6book/assets/js/43.8e441a9e.js"><link rel="prefetch" href="/qt6book/assets/js/44.35b2ff29.js"><link rel="prefetch" href="/qt6book/assets/js/45.7d1d010c.js"><link rel="prefetch" href="/qt6book/assets/js/46.7585557d.js"><link rel="prefetch" href="/qt6book/assets/js/47.450265aa.js"><link rel="prefetch" href="/qt6book/assets/js/48.f236e58d.js"><link rel="prefetch" href="/qt6book/assets/js/49.85eb3fbd.js"><link rel="prefetch" href="/qt6book/assets/js/5.c6d72f08.js"><link rel="prefetch" href="/qt6book/assets/js/50.0196025d.js"><link rel="prefetch" href="/qt6book/assets/js/51.1a5823e9.js"><link rel="prefetch" href="/qt6book/assets/js/52.83e09db4.js"><link rel="prefetch" href="/qt6book/assets/js/53.dedb04ac.js"><link rel="prefetch" href="/qt6book/assets/js/54.80561be2.js"><link rel="prefetch" href="/qt6book/assets/js/55.d2a21221.js"><link rel="prefetch" href="/qt6book/assets/js/56.564ff842.js"><link rel="prefetch" href="/qt6book/assets/js/57.757d907a.js"><link rel="prefetch" href="/qt6book/assets/js/58.50225fe8.js"><link rel="prefetch" href="/qt6book/assets/js/59.9e233383.js"><link rel="prefetch" href="/qt6book/assets/js/6.381344fb.js"><link rel="prefetch" href="/qt6book/assets/js/60.04d29815.js"><link rel="prefetch" href="/qt6book/assets/js/61.0c74ecb4.js"><link rel="prefetch" href="/qt6book/assets/js/62.d5c85dcf.js"><link rel="prefetch" href="/qt6book/assets/js/63.8775d8a6.js"><link rel="prefetch" href="/qt6book/assets/js/64.d6548a41.js"><link rel="prefetch" href="/qt6book/assets/js/65.9ab78926.js"><link rel="prefetch" href="/qt6book/assets/js/66.cd7855b2.js"><link rel="prefetch" href="/qt6book/assets/js/67.1ff5900b.js"><link rel="prefetch" href="/qt6book/assets/js/68.74f0245e.js"><link rel="prefetch" href="/qt6book/assets/js/69.1b2e800d.js"><link rel="prefetch" href="/qt6book/assets/js/7.53dffc97.js"><link rel="prefetch" href="/qt6book/assets/js/70.19fafa64.js"><link rel="prefetch" href="/qt6book/assets/js/71.aca6355b.js"><link rel="prefetch" href="/qt6book/assets/js/72.1a3808cd.js"><link rel="prefetch" href="/qt6book/assets/js/73.de73d4a5.js"><link rel="prefetch" href="/qt6book/assets/js/74.4f6fdc1a.js"><link rel="prefetch" href="/qt6book/assets/js/75.fa040cbb.js"><link rel="prefetch" href="/qt6book/assets/js/76.c943dcfb.js"><link rel="prefetch" href="/qt6book/assets/js/77.5e5240a0.js"><link rel="prefetch" href="/qt6book/assets/js/79.64132667.js"><link rel="prefetch" href="/qt6book/assets/js/8.a29b933c.js"><link rel="prefetch" href="/qt6book/assets/js/80.99cf0f52.js"><link rel="prefetch" href="/qt6book/assets/js/81.8dc9b0d5.js"><link rel="prefetch" href="/qt6book/assets/js/82.e60a2b4d.js"><link rel="prefetch" href="/qt6book/assets/js/83.ff48a41f.js"><link rel="prefetch" href="/qt6book/assets/js/84.72db517a.js"><link rel="prefetch" href="/qt6book/assets/js/85.876eef38.js"><link rel="prefetch" href="/qt6book/assets/js/86.5ed4ad32.js"><link rel="prefetch" href="/qt6book/assets/js/87.8df5143a.js"><link rel="prefetch" href="/qt6book/assets/js/88.94bf0081.js"><link rel="prefetch" href="/qt6book/assets/js/89.0272804b.js"><link rel="prefetch" href="/qt6book/assets/js/9.7436ab3c.js"><link rel="prefetch" href="/qt6book/assets/js/90.871c44c7.js"><link rel="prefetch" href="/qt6book/assets/js/91.c38e4ee7.js"><link rel="prefetch" href="/qt6book/assets/js/92.d79de636.js"><link rel="prefetch" href="/qt6book/assets/js/93.81493d9a.js"><link rel="prefetch" href="/qt6book/assets/js/94.4eef95b9.js"><link rel="prefetch" href="/qt6book/assets/js/95.3804e65e.js"><link rel="prefetch" href="/qt6book/assets/js/96.360acf76.js"><link rel="prefetch" href="/qt6book/assets/js/97.6a742d1c.js"><link rel="prefetch" href="/qt6book/assets/js/98.7e121e3a.js"><link rel="prefetch" href="/qt6book/assets/js/99.86b18043.js">
    <link rel="stylesheet" href="/qt6book/assets/css/0.styles.fdf3cb50.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/qt6book/" class="home-link router-link-active"><!----> <span class="site-name">Qt 6 书籍</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/dogifyc/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/dogifyc/qt6book" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/qt6book/preface/preface" class="sidebar-heading clickable"><span>前言</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/preface/preface.html" class="sidebar-link">欢迎！</a></li><li><a href="/qt6book/preface/acknowledgements.html" class="sidebar-link">鸣谢</a></li><li><a href="/qt6book/preface/authors.html" class="sidebar-link">作者</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch01-meetqt/meet-qt" class="sidebar-heading clickable"><span>遇见 Qt</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch01-meetqt/meet-qt.html" class="sidebar-link">Qt 和 Qt Quick</a></li><li><a href="/qt6book/ch01-meetqt/blocks.html" class="sidebar-link">Qt 构成</a></li><li><a href="/qt6book/ch01-meetqt/intro.html" class="sidebar-link">Qt 6 简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch02-start/quick-start" class="sidebar-heading clickable"><span>起步</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch02-start/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/qt6book/ch02-start/install.html" class="sidebar-link">安装 Qt 6 SDK</a></li><li><a href="/qt6book/ch02-start/hello-world.html" class="sidebar-link">Hello World</a></li><li><a href="/qt6book/ch02-start/app-types.html" class="sidebar-link">应用类型</a></li><li><a href="/qt6book/ch02-start/summary.html" class="sidebar-link">摘要</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch03-qtcreator/qt-creator" class="sidebar-heading clickable"><span>Qt Creator IDE</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch03-qtcreator/qt-creator.html" class="sidebar-link">Qt Creator IDE</a></li><li><a href="/qt6book/ch03-qtcreator/user-interface.html" class="sidebar-link">用户界面</a></li><li><a href="/qt6book/ch03-qtcreator/kit-registry.html" class="sidebar-link">注册 Qt 套件</a></li><li><a href="/qt6book/ch03-qtcreator/projects.html" class="sidebar-link">项目管理</a></li><li><a href="/qt6book/ch03-qtcreator/editor.html" class="sidebar-link">使用编辑器</a></li><li><a href="/qt6book/ch03-qtcreator/locator.html" class="sidebar-link">定位器</a></li><li><a href="/qt6book/ch03-qtcreator/debugging.html" class="sidebar-link">调试</a></li><li><a href="/qt6book/ch03-qtcreator/shortcuts.html" class="sidebar-link">快捷键</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch04-qmlstart/quick-start" class="sidebar-heading clickable"><span>快速开始</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch04-qmlstart/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/qt6book/ch04-qmlstart/qml-syntax.html" class="sidebar-link">QML 语法</a></li><li><a href="/qt6book/ch04-qmlstart/core-elements.html" class="sidebar-link">核心元素</a></li><li><a href="/qt6book/ch04-qmlstart/components.html" class="sidebar-link">组件</a></li><li><a href="/qt6book/ch04-qmlstart/transformations.html" class="sidebar-link">简单变化</a></li><li><a href="/qt6book/ch04-qmlstart/positioning.html" class="sidebar-link">定位元素</a></li><li><a href="/qt6book/ch04-qmlstart/layout.html" class="sidebar-link">布局元素</a></li><li><a href="/qt6book/ch04-qmlstart/input.html" class="sidebar-link">输入元素</a></li><li><a href="/qt6book/ch04-qmlstart/advanced.html" class="sidebar-link">进阶技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch05-fluid/fluid-elements" class="sidebar-heading clickable"><span>流式元素</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch05-fluid/fluid-elements.html" class="sidebar-link">流式元素</a></li><li><a href="/qt6book/ch05-fluid/animations.html" class="sidebar-link">动画</a></li><li><a href="/qt6book/ch05-fluid/states-transitions.html" class="sidebar-link">状态和过渡</a></li><li><a href="/qt6book/ch05-fluid/advanced.html" class="sidebar-link">进阶技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch06-controls/controls2" class="sidebar-heading clickable"><span>QtQuick Controls</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch06-controls/controls2.html" class="sidebar-link">UI Controls</a></li><li><a href="/qt6book/ch06-controls/introduction.html" class="sidebar-link">Controls 简介</a></li><li><a href="/qt6book/ch06-controls/image-viewer.html" class="sidebar-link">Image 查看器</a></li><li><a href="/qt6book/ch06-controls/common-patterns.html" class="sidebar-link">Common Patterns</a></li><li><a href="/qt6book/ch06-controls/imagine-style.html" class="sidebar-link">The Imagine Style</a></li><li><a href="/qt6book/ch06-controls/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch07-modelview/model-view" class="sidebar-heading clickable"><span>Model View</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch07-modelview/model-view.html" class="sidebar-link">Model-View-Delegate</a></li><li><a href="/qt6book/ch07-modelview/concept.html" class="sidebar-link">Concept</a></li><li><a href="/qt6book/ch07-modelview/basic-models.html" class="sidebar-link">Basic Models</a></li><li><a href="/qt6book/ch07-modelview/dynamic-views.html" class="sidebar-link">Dynamic Views</a></li><li><a href="/qt6book/ch07-modelview/delegate.html" class="sidebar-link">Delegate</a></li><li><a href="/qt6book/ch07-modelview/advanced.html" class="sidebar-link">Advanced Techniques</a></li><li><a href="/qt6book/ch07-modelview/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch08-canvas/canvas-element" class="sidebar-heading clickable"><span>Canvas</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch08-canvas/canvas-element.html" class="sidebar-link">Canvas Element</a></li><li><a href="/qt6book/ch08-canvas/convenience-api.html" class="sidebar-link">Convenience API</a></li><li><a href="/qt6book/ch08-canvas/gradients.html" class="sidebar-link">Gradients</a></li><li><a href="/qt6book/ch08-canvas/shadows.html" class="sidebar-link">Shadows</a></li><li><a href="/qt6book/ch08-canvas/images.html" class="sidebar-link">Images</a></li><li><a href="/qt6book/ch08-canvas/transformation.html" class="sidebar-link">Transformation</a></li><li><a href="/qt6book/ch08-canvas/composition-modes.html" class="sidebar-link">Composition Modes</a></li><li><a href="/qt6book/ch08-canvas/pixel-buffer.html" class="sidebar-link">Pixel Buffers</a></li><li><a href="/qt6book/ch08-canvas/canvas-paint.html" class="sidebar-link">Canvas Paint</a></li><li><a href="/qt6book/ch08-canvas/port-from-html.html" class="sidebar-link">Porting from HTML5 Canvas</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch09-shapes/shapes" class="sidebar-heading clickable"><span>Shapes</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch09-shapes/shapes.html" class="sidebar-link">Shapes</a></li><li><a href="/qt6book/ch09-shapes/basics.html" class="sidebar-link">A Basic Shape</a></li><li><a href="/qt6book/ch09-shapes/paths.html" class="sidebar-link">Building Paths</a></li><li><a href="/qt6book/ch09-shapes/gradients.html" class="sidebar-link">Filling Shapes</a></li><li><a href="/qt6book/ch09-shapes/animations.html" class="sidebar-link">Animating Shapes</a></li><li><a href="/qt6book/ch09-shapes/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch10-effects/effects" class="sidebar-heading clickable"><span>Effects</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch10-effects/effects.html" class="sidebar-link">Effects in QML</a></li><li><a href="/qt6book/ch10-effects/particles.html" class="sidebar-link">Particle Concept</a></li><li><a href="/qt6book/ch10-effects/simple-simulation.html" class="sidebar-link">Simple Simulation</a></li><li><a href="/qt6book/ch10-effects/particle-parameters.html" class="sidebar-link">Particle Parameters</a></li><li><a href="/qt6book/ch10-effects/directed-particles.html" class="sidebar-link">Directed Particles</a></li><li><a href="/qt6book/ch10-effects/affecting-particles.html" class="sidebar-link">Affecting Particles</a></li><li><a href="/qt6book/ch10-effects/particle-groups.html" class="sidebar-link">Particle Groups</a></li><li><a href="/qt6book/ch10-effects/particle-painters.html" class="sidebar-link">Particle Painters</a></li><li><a href="/qt6book/ch10-effects/opengl-shaders.html" class="sidebar-link">Graphics Shaders</a></li><li><a href="/qt6book/ch10-effects/shader-elements.html" class="sidebar-link">Shader Elements</a></li><li><a href="/qt6book/ch10-effects/fragment-shaders.html" class="sidebar-link">Fragment Shaders</a></li><li><a href="/qt6book/ch10-effects/wave-effect.html" class="sidebar-link">Wave Effect</a></li><li><a href="/qt6book/ch10-effects/vertex-shader.html" class="sidebar-link">Vertex Shader</a></li><li><a href="/qt6book/ch10-effects/curtain-effect.html" class="sidebar-link">Curtain Effect</a></li><li><a href="/qt6book/ch10-effects/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch11-multimedia/multimedia" class="sidebar-heading clickable"><span>Multimedia</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch11-multimedia/multimedia.html" class="sidebar-link">Multimedia</a></li><li><a href="/qt6book/ch11-multimedia/playing-media.html" class="sidebar-link">Playing Media</a></li><li><a href="/qt6book/ch11-multimedia/sound-effects.html" class="sidebar-link">Sound Effects</a></li><li><a href="/qt6book/ch11-multimedia/video-streams.html" class="sidebar-link">Video Streams</a></li><li><a href="/qt6book/ch11-multimedia/capturing-images.html" class="sidebar-link">Capturing Images</a></li><li><a href="/qt6book/ch11-multimedia/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch12-qtquick3d/intro" class="sidebar-heading clickable"><span>Qt Quick 3D</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch12-qtquick3d/intro.html" class="sidebar-link">Qt Quick 3D</a></li><li><a href="/qt6book/ch12-qtquick3d/basics.html" class="sidebar-link">The Basics</a></li><li><a href="/qt6book/ch12-qtquick3d/assets.html" class="sidebar-link">Working with Assets</a></li><li><a href="/qt6book/ch12-qtquick3d/materials-and-light.html" class="sidebar-link">Materials and Light</a></li><li><a href="/qt6book/ch12-qtquick3d/animations.html" class="sidebar-link">Animations</a></li><li><a href="/qt6book/ch12-qtquick3d/mixing-2d-and-3d.html" class="sidebar-link">Mixing 2D and 3D Contents</a></li><li><a href="/qt6book/ch12-qtquick3d/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch13-networking/networking" class="sidebar-heading clickable"><span>Networking</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch13-networking/networking.html" class="sidebar-link">Networking</a></li><li><a href="/qt6book/ch13-networking/serve-qml.html" class="sidebar-link">Serving UI via HTTP</a></li><li><a href="/qt6book/ch13-networking/templates.html" class="sidebar-link">Templates</a></li><li><a href="/qt6book/ch13-networking/http-requests.html" class="sidebar-link">HTTP Requests</a></li><li><a href="/qt6book/ch13-networking/local-files.html" class="sidebar-link">Local files</a></li><li><a href="/qt6book/ch13-networking/rest-api.html" class="sidebar-link">REST API</a></li><li><a href="/qt6book/ch13-networking/authentication.html" class="sidebar-link">Authentication using OAuth</a></li><li><a href="/qt6book/ch13-networking/web-sockets.html" class="sidebar-link">Web Sockets</a></li><li><a href="/qt6book/ch13-networking/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch14-storage/storage" class="sidebar-heading clickable"><span>Storage</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch14-storage/storage.html" class="sidebar-link">Storage</a></li><li><a href="/qt6book/ch14-storage/settings.html" class="sidebar-link">Settings</a></li><li><a href="/qt6book/ch14-storage/local-storage.html" class="sidebar-link">Local Storage - SQL</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch15-dynamicqml/dynamic-qml" class="sidebar-heading clickable"><span>Dynamic QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch15-dynamicqml/dynamic-qml.html" class="sidebar-link">Dynamic QML</a></li><li><a href="/qt6book/ch15-dynamicqml/loading-components.html" class="sidebar-link">Loading Components Dynamically</a></li><li><a href="/qt6book/ch15-dynamicqml/dynamic-objects.html" class="sidebar-link">Creating and Destroying Objects</a></li><li><a href="/qt6book/ch15-dynamicqml/tracking-objects.html" class="sidebar-link">Tracking Dynamic Objects</a></li><li><a href="/qt6book/ch15-dynamicqml/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch16-javascript/javascript" class="sidebar-heading clickable"><span>Javascript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch16-javascript/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/qt6book/ch16-javascript/html-qml.html" class="sidebar-link">Browser/HTML vs Qt Quick/QML</a></li><li><a href="/qt6book/ch16-javascript/js-language.html" class="sidebar-link">JS Language</a></li><li><a href="/qt6book/ch16-javascript/js-objects.html" class="sidebar-link">JS Objects</a></li><li><a href="/qt6book/ch16-javascript/js-console.html" class="sidebar-link">Creating a JS Console</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch17-qtcpp/qtcpp" class="sidebar-heading clickable"><span>Qt C++</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch17-qtcpp/qtcpp.html" class="sidebar-link">Qt and C++</a></li><li><a href="/qt6book/ch17-qtcpp/boilerplate.html" class="sidebar-link">A Boilerplate Application</a></li><li><a href="/qt6book/ch17-qtcpp/qobject.html" class="sidebar-link">The QObject</a></li><li><a href="/qt6book/ch17-qtcpp/build-system.html" class="sidebar-link">Build Systems</a></li><li><a href="/qt6book/ch17-qtcpp/common-classes.html" class="sidebar-link">Common Qt Classes</a></li><li><a href="/qt6book/ch17-qtcpp/cpp-models.html" class="sidebar-link">Models in C++</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch18-extensions/extending-qml" class="sidebar-heading clickable"><span>Extending QML</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch18-extensions/extending-qml.html" class="sidebar-link">Extending QML with C++</a></li><li><a href="/qt6book/ch18-extensions/qml-runtime.html" class="sidebar-link">Understanding the QML Run-time</a></li><li><a href="/qt6book/ch18-extensions/plugin-content.html" class="sidebar-link">Plugin Content</a></li><li><a href="/qt6book/ch18-extensions/create-plugin.html" class="sidebar-link">Creating the plugin</a></li><li><a href="/qt6book/ch18-extensions/fileio-demo.html" class="sidebar-link">FileIO Implementation</a></li><li><a href="/qt6book/ch18-extensions/using-fileio.html" class="sidebar-link">Using FileIO</a></li><li><a href="/qt6book/ch18-extensions/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch19-python/qt-python" class="sidebar-heading clickable"><span>Qt for Python</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch19-python/qt-python.html" class="sidebar-link">Qt for Python</a></li><li><a href="/qt6book/ch19-python/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/qt6book/ch19-python/installing.html" class="sidebar-link">Installing</a></li><li><a href="/qt6book/ch19-python/build-app.html" class="sidebar-link">Building an Application</a></li><li><a href="/qt6book/ch19-python/limitations.html" class="sidebar-link">Limitations</a></li><li><a href="/qt6book/ch19-python/summary.html" class="sidebar-link">Summary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/qt6book/ch20-qtformcu/qtformcu" class="sidebar-heading clickable open"><span>Qt for MCUs</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/qt6book/ch20-qtformcu/qtformcu.html" class="sidebar-link">Qt for MCUs</a></li><li><a href="/qt6book/ch20-qtformcu/setup.html" class="sidebar-link">Setup</a></li><li><a href="/qt6book/ch20-qtformcu/helloworld.html" class="sidebar-link">Hello World - for MCUs</a></li><li><a href="/qt6book/ch20-qtformcu/cpp.html" aria-current="page" class="active sidebar-link">Integrating with C++</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/qt6book/ch20-qtformcu/cpp.html#the-c" class="sidebar-link">The C++</a></li><li class="sidebar-sub-header"><a href="/qt6book/ch20-qtformcu/cpp.html#the-qml" class="sidebar-link">The QML</a></li><li class="sidebar-sub-header"><a href="/qt6book/ch20-qtformcu/cpp.html#revisiting-the-cmake-file" class="sidebar-link">Revisiting the CMake file</a></li></ul></li><li><a href="/qt6book/ch20-qtformcu/models.html" class="sidebar-link">Working with Models</a></li><li><a href="/qt6book/ch20-qtformcu/summary.html" class="sidebar-link">Summary</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="integrating-with-c"><a href="#integrating-with-c" class="header-anchor">#</a> Integrating with C++</h1> <h2 id="the-c"><a href="#the-c" class="header-anchor">#</a> The C++</h2> <p>In order to demonstrate the connection between C++ and QML in Qt for MCUs, we will create a simple <code>Counter</code> singleton holding an integer value. Notice that we start from a <code>struct</code> and not a <code>class</code>. This is common practice in Qt Quick Ultralite.</p> <p>The singleton will be used from a small UI as shown below.</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>The <code>Counter</code> struct provides a property, <code>value</code>, as well as methods for changing the value, <code>increase</code> and <code>decrease</code>, as well as a <code>reset</code> method. It also provides a signal, <code>hasBeenReset</code>.</p> <div class="language-h extra-class"><pre class="language-text"><code>#ifndef COUNTER_H
#define COUNTER_H

#include &lt;qul/singleton.h&gt;
#include &lt;qul/property.h&gt;
#include &lt;qul/signal.h&gt;

class Counter : public Qul::Singleton&lt;Counter&gt;
{
public:
    Counter();

    Qul::Property&lt;int&gt; value;

    void increase();
    void decrease();

    void reset();
    Qul::Signal&lt;void(void)&gt; hasBeenReset;

};

#endif // COUNTER_H</code></pre></div><p>Coming from Qt, this looks odd. This is where Qt for MCUs shows the main differences. There is no <code>QObject</code> base class or <code>Q_OBJECT</code> macro, instead a new set of classes from the <code>Qul</code> is used. In this particular case, the base class is the <code>Qul::Singleton</code> class, creating a globally accessible singleton in the QML world. We also use the <code>Qul::Signal</code> class to create a signal and the <code>Qul::Property</code> class to create a property. All public, non-overloaded member functions are exposed to QML automatically.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>To create an element that can be instantiated from QML, instead of a singleton, use the <code>Qul::Object</code> base class.</p></div> <p>The struct is then exposed to QML using the CMake macro <code>qul_target_generate_interfaces</code>. Below you can see the <code>CMakeLists.txt</code>, based on the file generated by Qt Creator, with the <code>counter.h</code> and <code>counter.cpp</code> files added.</p> <div class="language-txt extra-class"><pre class="language-text"><code>qul_target_generate_interfaces(cppintegration counter.h)</code></pre></div><p>Now, let's continue with the implementation of the <code>Counter</code> struct. First up, for the <code>value</code> property, we use the <code>value</code> and <code>setValue</code> functions to access and modify the actual value. In our case, the property holds and <code>int</code>, but just as for the ordinary QML engine, types are <a href="https://doc.qt.io/QtForMCUs/qtul-integratecppqml.html#type-mapping" target="_blank" rel="noopener noreferrer">mapped between C++ and QML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>This is used in the constructor, shown below, that sets the initial value to zero.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token class-name">Counter</span><span class="token operator">::</span><span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    value<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p>The <code>increase</code> and <code>decrease</code> functions look similar. They use the getter and setter instead of interacting directly with the value.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">Counter</span><span class="token operator">::</span><span class="token function">increase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    value<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">Counter</span><span class="token operator">::</span><span class="token function">decrease</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    value<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p><code>Counter</code> also has a signal. The signal is represented by the <code>Qul::Signal</code> instance named <code>hasReset</code>. The signal takes a function signature as template argument, so to create a signal carrying an integer, create a <code>Qul::Signal&lt;void(int)&gt;</code>. In this case, the signal does not carry any values, so it is defined as a <code>void(void)</code>. To emit the signal, we simply call it as if it was an ordinary function as shown in the <code>reset</code> function below.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">Counter</span><span class="token operator">::</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Resetting from &quot;</span> <span class="token operator">&lt;&lt;</span> value<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
    value<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">hasBeenReset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><h2 id="the-qml"><a href="#the-qml" class="header-anchor">#</a> The QML</h2> <p>The QML code produces the simple user interface shown below.</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>We will look at the UI in three parts. First, the basic structure, and bindings to <code>Counter.value</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>import QtQuick

Rectangle {
    width: 480
    height: 272

    Column {
        // Left buttons goes here
    }

    Column {
        // Right buttons goes here
    }

    Text {
        anchors.centerIn: parent
        text: Counter.value;
    }
}
</code></pre></div><p>As you can tell, the <code>Text</code> element's <code>text</code> property is bound to the <code>Counter.value</code> as in all QML.</p> <p>Now, let's look at the left side buttons. These are used to invoke the C++ methods provided via the <code>Counter</code> singleton. The <code>PlainButton</code> is a QML element that we use to create these simple buttons. It lets you set the text, background color and a handler for the <code>clicked</code> signal. As you can tell, each button calls the corresponding method on the <code>Counter</code> singleton.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Column</span> <span class="token punctuation">{</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>
    <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>
    <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>
    <span class="token class-name">PlainButton</span> <span class="token punctuation">{</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;+&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Counter<span class="token punctuation">.</span><span class="token function">increase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>
    <span class="token class-name">PlainButton</span> <span class="token punctuation">{</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;reset&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Counter<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>
    <span class="token class-name">PlainButton</span> <span class="token punctuation">{</span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;-&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Counter<span class="token punctuation">.</span><span class="token function">decrease</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>The buttons on the right modify the <code>Counter.value</code> directly from QML. This is possible to do, but invisible to C++. There is no simple way for C++ to monitor if a property has changed, so if a C++ reaction is needed, it is recommended to use a setter method, rather than directly modifying the property value.</p> <div class="language-qml extra-class"><pre class="language-qml"><code><span class="token class-name">Column</span> <span class="token punctuation">{</span>
    <span class="token property">x</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">350</span></span>
    <span class="token property">y</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">10</span></span>
    <span class="token property">spacing</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token number">5</span></span>
    <span class="token class-name">PlainButton</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;orange&quot;</span></span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;++&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Counter<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">5</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">PlainButton</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;orange&quot;</span></span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;100&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Counter<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">100</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">PlainButton</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;orange&quot;</span></span>
        <span class="token property">text</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript"><span class="token string">&quot;--&quot;</span></span>
        <span class="token property">onClicked</span><span class="token punctuation">:</span> <span class="token javascript-expression language-javascript">Counter<span class="token punctuation">.</span>value <span class="token operator">-=</span> <span class="token number">5</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>This shows how to provide a singleton from C++ and how to make function calls, emit signals, and share state (properties) between C++ and QML.</p> <h2 id="revisiting-the-cmake-file"><a href="#revisiting-the-cmake-file" class="header-anchor">#</a> Revisiting the CMake file</h2> <p>The <code>CMakeLists.txt</code> file may look familiar to you, but there are some tips and tricks that we need to discuss.</p> <p>First of all, in order to expose a C++ class to QML, use the <code>qul_target_generate_interfaces</code>, e.g:</p> <div class="language- extra-class"><pre class="language-text"><code>qul_target_generate_interfaces(cppintegration counter.h)
</code></pre></div><p>The other half, the QML files, are added using the <code>qul_target_qml_sources</code> macro. If you have multiple QML files, simply list them one by one as shown below:</p> <div class="language- extra-class"><pre class="language-text"><code>qul_target_qml_sources(cppintegration cppintegration.qml PlainButton.qml)
</code></pre></div><p>Another interesting aspect is that we are building a C++ project without writing a <code>main</code> function. This is taken care of by the <code>app_target_default_main</code> macro that adds a reference main implementation to the project. You can of course replace this with a custom <code>main</code> function if you need more control.</p> <div class="language- extra-class"><pre class="language-text"><code>app_target_default_main(cppintegration cppintegration)
</code></pre></div><p>Finally, the libraries linked to are not the standard Qt ones, but the <code>Qul::</code> ones, e.g:</p> <div class="language- extra-class"><pre class="language-text"><code>target_link_libraries(cppintegration
    Qul::QuickUltralite
    Qul::QuickUltralitePlatform)
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Links</p> <p>Further reading at qt.io:</p> <ul><li><a href="https://doc.qt.io/QtForMCUs/qtul-integratecppqml.html" target="_blank" rel="noopener noreferrer">Integrate C++ and QML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dogifyc/qt6book/edit/main/docs/ch20-qtformcu/cpp.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/qt6book/ch20-qtformcu/helloworld.html" class="prev">
        Hello World - for MCUs
      </a></span> <span class="next"><a href="/qt6book/ch20-qtformcu/models.html">
        Working with Models
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/qt6book/assets/js/app.49f675f8.js" defer></script><script src="/qt6book/assets/js/2.ea318f3c.js" defer></script><script src="/qt6book/assets/js/78.4352cfdb.js" defer></script>
  </body>
</html>
